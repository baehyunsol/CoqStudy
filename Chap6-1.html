<!DOCTYPE html><html>

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    
    <title>Chap6-1</title>
    
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
    <!--<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" rel="stylesheet"/> -->
    
    <link href="page.css" rel="stylesheet"/><link href="markdown.css" rel="stylesheet"/><link href="nav.css" rel="stylesheet"/><link href="header.css" rel="stylesheet"/>
    
</head>

<body>


    <header>
<p><div class="topmenu deactivated"><a href="index.html">Home</a> <a href="index.html#index-by-chapter">단원별 목차</a> <a href="index.html#index-by-keyword">키워드 목차</a> <a href="Appendix.html">부록</a></div><div class="mobileview"><a id="navbutton">&#9776;</a></div></p>
    </header>



    <nav>
<p><a id="settingsopenbutton">&#9728;</a><a href="#top">&#9650;</a><a href="#bottom">&#9660;</a></p><div id="settingsmenubg"><div id="settingsmenu"><table><thead><tr><th colspan="2"><div class="align-right"> <span class="size-giant"><a id="settingsclosebutton">&#10006;</a></span></div></th></tr></thead><tbody><tr><td><div class="align-right">Theme:</div></td><td><div class="align-left"><a id="changethemebutton">Set Light Theme</a></div></td></tr><tr><td><div class="align-right">Horizontal Padding:</div></td><td><div class="align-left"><a id="growhorizontalbutton">Grow</a> <a id="shrinkhorizontalbutton">Shrink</a></div></td></tr><tr><td><div class="align-right">Font Size:</div></td><td><div class="align-left"><a id="growfontbutton">Grow</a> <a id="shrinkfontbutton">Shrink</a></div></td></tr><tr><td><div class="align-right">Settings:</div></td><td><div class="align-left"><a id="savesettingsbutton">Save All</a> <a id="discardsettingsbutton">Discard All</a></div></td></tr></tbody></table></div></div>
    </nav>


    <article class="markdown">
        <a id="top"></a>
<table><thead onclick="collapse_table('0')" id="table-collapse-toggle-0" class="collapsible collapsed"><tr><th>목차</th></tr></thead><tbody id="collapsible-table-0" class="invisible"><tr><td><div class="toc"><ol type="1"><li><a href="#conjunction-and-disjunction">Conjunction and Disjunction</a><ol type="1"><li><a href="#prop">Prop</a><ol type="1"><li><a href="#eq">eq</a></li><li><a href="#-">-&gt;</a></li></ol></li><li><a href="#conjunction">Conjunction</a></li><li><a href="#disjunction">Disjunction</a></li></ol></li></ol></div></td></tr></tbody></table><h1 id="conjunction-and-disjunction">Conjunction and Disjunction</h1><p>지금까지 저희는 아주 간단한 논리들 (<code class="inline-code-span">p -&gt; q</code>, <code class="inline-code-span">x = y</code> 등)만 봤습니다. Coq가 다룰 수 있는 논리는 이것들보다 훨씬 많은데, 이번 장에서는 그 논리들을 살펴보겠습니다.</p><p>그 전에, <code class="inline-code-span">Prop</code>이라는 타입에 대해서 먼저 알아보겠습니다.</p><h2 id="prop">Prop</h2><p><a href="Chap4-2.html#higher-order-functions">이전</a>에 Coq에서 함수가 일급시민이라고 언급했습니다. 그것과 마찬가지로, 모든 명제들도 일급시민입니다. 모든 명제들은 <code class="inline-code-span">Prop</code>이라는 타입을 가지며, 함수의 인자로 쓰거나 반환값으로 쓰는 등 다양한 연산<span id="footnote-ref-0" class="footnote-ref"><a href="#footnote-cite-0">[0]</a></span>을 할 수 있습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Check</span> <span class="color-gold">2</span> <span class="color-white">=</span> <span class="color-gold">2</span><span class="color-white">.     </span><span class="color-gray">(*</span><span class="color-gray"> : Prop </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-violet">Check</span> <span class="color-gold">3</span> <span class="color-white">=</span> <span class="color-gold">2</span><span class="color-white">.     </span><span class="color-gray">(*</span><span class="color-gray"> : Prop </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Check</span> <span class="color-white">(</span><span class="color-violet">forall</span> <span class="color-red">n</span><span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span> <span class="color-red">n</span> <span class="color-white">+</span> <span class="color-gold">0</span> <span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">+</span> <span class="color-red">n</span><span class="color-white">)</span><span class="color-white">.  </span><span class="color-gray">(*</span><span class="color-gray"> : Prop </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-violet">Compute</span> <span class="color-gold">3</span> <span class="color-white">=</span> <span class="color-gold">3</span><span class="color-white">.   </span><span class="color-gray">(*</span><span class="color-gray"> 3 = 3 : Prop </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-violet">Compute</span> <span class="color-gold">3</span> <span class="color-white">=</span> <span class="color-gold">2</span><span class="color-white">.   </span><span class="color-gray">(*</span><span class="color-gray"> 3 = 2 : Prop </span><span class="color-gray">*)</span></span></span>
</code><button onclick="copy_code_to_clipboard(0)" class="copy-fenced-code">Copy</button></pre><p>위에서처럼 <code class="inline-code-span">Check</code>나 <code class="inline-code-span">Compute</code>를 할 수도 있고, 아래처럼 함수와 조합하여 더 놀라운 것들도 할 수 있습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Definition</span> <span class="color-aqua">is_injective</span><span class="color-white"> {</span><span class="color-red">A</span> <span class="color-red">B</span><span class="color-dark">}</span> <span class="color-white">(</span><span class="color-red">f</span> <span class="color-white">:</span> <span class="color-red">A</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">B</span><span class="color-white">)</span> <span class="color-white">:=</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-violet">forall</span> <span class="color-red">x</span> <span class="color-red">y</span> <span class="color-white">:</span> <span class="color-violet">A</span><span class="color-white">,</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-red">f</span> <span class="color-red">x</span> <span class="color-white">=</span> <span class="color-red">f</span> <span class="color-red">y</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">x</span> <span class="color-white">=</span> <span class="color-white">y</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(1)" class="copy-fenced-code">Copy</button></pre><p><code class="inline-code-span">is_injective</code>는 함수를 받아서 <code class="inline-code-span">Prop</code>을 내놓는 함수입니다. <code class="inline-code-span">is_injective</code>가 받는 함수가 injective하면 반환된 <code class="inline-code-span">Prop</code>이 참이고 아니면 반환된 <code class="inline-code-span">Prop</code>이 거짓입니다. 아래의 예시를 보겠습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Theorem</span> <span class="color-aqua">S_injective</span> <span class="color-white">:</span> <span class="color-violet">is_injective</span> <span class="color-violet">S</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">n</span> <span class="color-red">m</span> <span class="color-red">H</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-emerald">injection</span> <span class="color-red">H</span> <span class="color-violet">as</span> <span class="color-red">H1</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-emerald">apply</span> <span class="color-red">H1</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">  <span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(2)" class="copy-fenced-code">Copy</button></pre><p>자연수를 정의할 때 쓰는 <code class="inline-code-span">S</code>가 injective하단 걸 증명하기 위해 <code class="inline-code-span">is_injective S</code>라는 아주 간단한 표현을 썼습니다. 쉽죠?</p><div class="box"><h3 id="eq">eq</h3><p><a id="notationeq"></a></p><p>참고로 <code class="inline-code-span">x = y</code> 할 때의 <code class="inline-code-span">=</code>도 내장특수 문법이 아닌 일반 함수입니다. <code class="inline-code-span">=</code>는 Coq 표준 라이브러리에 정의돼 있으며 이름은 <code class="inline-code-span">eq</code>입니다. 타입을 확인해보면 아래와 같습니다.</p><pre class="fenced-code-block"><code><span class="code-fence-row"><span class="code-fence-code"><span class="color-violet">Check</span> <span class="color-white">@</span><span class="color-red">eq</span> <span class="color-white">:</span> <span class="color-violet">forall</span> <span class="color-red">A</span> <span class="color-white">:</span> <span class="color-white">Type</span><span class="color-white">,</span> <span class="color-red">A</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">A</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-white">Prop</span><span class="color-white">.</span></span></span>
</code></pre><p>즉, <code class="inline-code-span">eq</code>는 <code class="inline-code-span">A</code>라는 타입의 instance 2개를 받아서 그 둘이 같은지 다른지의 <code class="inline-code-span">Prop</code>을 반환하는 함수입니다.</p><h3 id="-">-&gt;</h3><p><a id="notationimplies"></a></p><p>그럼 <code class="inline-code-span">a = b -&gt; c = d</code>의 타입은 뭘까요? 저 친구도 마찬가지로 <code class="inline-code-span">Prop</code>입니다. Coq 내부에서 <code class="inline-code-span">-&gt;</code>라는 Notation은 아래와 같이 정의돼 있습니다.</p><pre class="fenced-code-block"><code><span class="code-fence-row"><span class="code-fence-code">Notation &quot;A -&gt; B&quot; := (forall (_ : A), B) : type_scope.</span></span>
</code></pre></div><h2 id="conjunction">Conjunction</h2><p>Conjunction은 <em>logical and</em>입니다. <code class="inline-code-span">and</code>라는 이름으로 정의돼 있고, <code class="inline-code-span">/\</code>라는 Notation이 내장돼 있습니다. 아래의 예시를 보겠습니다.</p><p><a id="keywordsplit"></a></p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Example</span> <span class="color-aqua">and_example</span> <span class="color-white">:</span> <span class="color-gold">3</span> <span class="color-white">+</span> <span class="color-gold">4</span> <span class="color-white">=</span> <span class="color-gold">7</span> <span class="color-white">/\</span> <span class="color-gold">2</span> <span class="color-white">*</span> <span class="color-gold">2</span> <span class="color-white">=</span> <span class="color-gold">4</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-emerald">split</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> 3 + 4 = 7 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> 2 * 2 = 4 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(5)" class="copy-fenced-code">Copy</button></pre><p><code class="inline-code-span">3 + 4 = 7</code>이라는 <code class="inline-code-span">Prop</code>과 <code class="inline-code-span">2 * 2 = 4</code>라는 <code class="inline-code-span">Prop</code>을 and로 묶었습니다. <u>A and B</u>라는 명제를 증명하기 위해선 A와 B를 따로 증명해야하죠? 그럴 때 <code class="inline-code-span">split</code>이란 tactic을 사용합니다. 그럼 <code class="inline-code-span">3 + 4 = 7</code>과 <code class="inline-code-span">2 * 2 = 4</code>의 subgoal이 따로 등록됩니다.</p><p><a id="keyworddestruct"></a></p><p>혹은 <code class="inline-code-span">destruct</code> tactic을 이용할 수도 있습니다. 아래의 예시를 보겠습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Lemma</span> <span class="color-aqua">and_example2</span> <span class="color-white">:</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-violet">forall</span> <span class="color-red">n</span> <span class="color-red">m</span> <span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span> <span class="color-red">n</span> <span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">/\</span> <span class="color-red">m</span> <span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">n</span> <span class="color-white">+</span> <span class="color-red">m</span> <span class="color-white">=</span> <span class="color-gold">0</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">n</span> <span class="color-red">m</span> <span class="color-red">H</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-emerald">destruct</span> <span class="color-red">H</span> <span class="color-violet">as</span> <span class="color-white">[</span><span class="color-red">Hn</span> <span class="color-red">Hm</span><span class="color-white">]</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-emerald">rewrite</span> <span class="color-red">Hn</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">  <span class="color-emerald">rewrite</span> <span class="color-red">Hm</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">  <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(6)" class="copy-fenced-code">Copy</button></pre><p>원래 context에 <code class="inline-code-span">H: n = 0 /\ m = 0</code>이 들어있었는데 <code class="inline-code-span">destruct</code>로 인해서 <code class="inline-code-span">Hn: n = 0</code>과 <code class="inline-code-span">Hm: m = 0</code>으로 나눠집니다. <code class="inline-code-span">destruct</code>하기 귀찮다면 <code class="inline-code-span">intros n m [Hn Hm]</code>을 이용하는 방법도 있습니다. <code class="inline-code-span">intros</code> 안에 있는 대괄호로 인해서 <code class="inline-code-span">destruct</code>가 자동으로 됩니다.</p><p>마지막으로 연습 하나만 하고 넘어가겠습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Theorem</span> <span class="color-aqua">and_assoc</span> <span class="color-white">:</span> <span class="color-violet">forall</span> <span class="color-red">P</span> <span class="color-red">Q</span> <span class="color-red">R</span> <span class="color-white">:</span> <span class="color-white">Prop</span><span class="color-white">,</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-red">P</span> <span class="color-white">/\</span> <span class="color-white">(</span><span class="color-red">Q</span> <span class="color-white">/\</span> <span class="color-red">R</span><span class="color-white">)</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-white">(</span><span class="color-red">P</span> <span class="color-white">/\</span> <span class="color-red">Q</span><span class="color-white">)</span> <span class="color-white">/\</span> <span class="color-red">R</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">P</span> <span class="color-red">Q</span> <span class="color-red">R</span> <span class="color-white">[</span><span class="color-red">HP</span> <span class="color-white">[</span><span class="color-red">HQ</span> <span class="color-red">HR</span><span class="color-white">]</span><span class="color-white">]</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-emerald">split</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> P /\ Q </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">    <span class="color-emerald">split</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">    <span class="color-aqua">+</span> <span class="color-gray">(*</span><span class="color-gray"> P </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">      <span class="color-emerald">apply</span> <span class="color-red">HP</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">    <span class="color-aqua">+</span> <span class="color-gray">(*</span><span class="color-gray"> Q </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">      <span class="color-emerald">apply</span> <span class="color-red">HQ</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> R </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code">    <span class="color-emerald">apply</span> <span class="color-red">HR</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code">  <span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(7)" class="copy-fenced-code">Copy</button></pre><p><code class="inline-code-span">/\</code>가 여러겹으로 돼 있는 구문도 <code class="inline-code-span">[HP [HQ HR]]</code>의 문법을 통해서 깔끔하게 <code class="inline-code-span">destruct</code>했습니다. 위의 증명을 직접 해보면서 <code class="inline-code-span">destruct</code>와 <code class="inline-code-span">split</code>이 어떤 식으로 동작하는지 확인해보시기 바랍니다.</p><h2 id="disjunction">Disjunction</h2><p>logical and를 공부했으니 이번엔 logical or를 보겠습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Lemma</span> <span class="color-aqua">mult_0</span><span class="color-white">:</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-violet">forall</span> <span class="color-red">n</span> <span class="color-red">m</span> <span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span> <span class="color-red">n</span> <span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">\/</span> <span class="color-red">m</span> <span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">n</span> <span class="color-white">*</span> <span class="color-red">m</span> <span class="color-white">=</span> <span class="color-gold">0</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">n</span> <span class="color-red">m</span> <span class="color-red">H</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-emerald">destruct</span> <span class="color-red">H</span> <span class="color-violet">as</span> <span class="color-white">[</span><span class="color-red">Hn</span> <span class="color-white">|</span> <span class="color-red">Hm</span><span class="color-white">]</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> Hn: n = 0 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-red">Hn</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> Hm: m = 0 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-red">Hm</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-white">&lt;</span><span class="color-white">-</span> <span class="color-red">mult_n_O</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code">  <span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(8)" class="copy-fenced-code">Copy</button></pre><p>이번에는 아까와 <code class="inline-code-span">destruct</code>하는 문법이 조금 바뀌었습니다. and를 적용할 때는 <code class="inline-code-span">Hn</code>과 <code class="inline-code-span">Hm</code>이 동시에 context로 들어갔고, 동시에 사용가능했지만 이번에는 <code class="inline-code-span">Hn</code>과 <code class="inline-code-span">Hm</code>에 대해서 각각 증명을 해야합니다 (그게 or이니까요). 그래서 <code class="inline-code-span">[Hn | Hm]</code>이라고 쓴 걸 볼 수 있습니다. 이번에도 and 때와 마찬가지로 <code class="inline-code-span">intros n m [Hn | Hm]</code>을 이용해서 <code class="inline-code-span">destruct</code>를 간편하게 할 수 있습니다.</p><p><code class="inline-code-span">\/</code>가 goal에 있으면 어떻게 할까요? 아래의 예시를 보겠습니다.</p><p><a id="keywordleft"></a><a id="keywordright"></a></p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Lemma</span> <span class="color-aqua">or_intro_l</span> <span class="color-white">:</span> <span class="color-violet">forall</span> <span class="color-red">A</span> <span class="color-red">B</span> <span class="color-white">:</span> <span class="color-white">Prop</span><span class="color-white">,</span> <span class="color-red">A</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">A</span> <span class="color-white">\/</span> <span class="color-red">B</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">A</span> <span class="color-red">B</span> <span class="color-red">HA</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-aqua">left</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-emerald">apply</span> <span class="color-red">HA</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(9)" class="copy-fenced-code">Copy</button></pre><p><u>A or B</u>를 증명하기 위해선 A와 B 중에서 하나만 증명해도 되죠? 그럴 때 쓰는 tactic이 <code class="inline-code-span">left</code>와 <code class="inline-code-span">right</code>입니다. 증명하고자 하는 명제가 <code class="inline-code-span">A \/ B</code>일 때 <code class="inline-code-span">left</code>를 쓰면 <code class="inline-code-span">A</code>만 남깁니다. <code class="inline-code-span">right</code>도 마찬가지입니다.</p><p>책에 재밌는 예시들이 있길래 하나 더 갖고 왔습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Lemma</span> <span class="color-aqua">zero_or_succ</span> <span class="color-white">:</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-violet">forall</span> <span class="color-red">n</span> <span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span> <span class="color-red">n</span> <span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">\/</span> <span class="color-red">n</span> <span class="color-white">=</span> <span class="color-white">S</span> <span class="color-white">(</span><span class="color-red">pred</span> <span class="color-red">n</span><span class="color-white">)</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-white">[</span> <span class="color-white">|</span> <span class="color-red">n&apos;</span><span class="color-white">]</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = 0 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">    <span class="color-aqua">left</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = S n&apos; </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">    <span class="color-aqua">right</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code"><span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(10)" class="copy-fenced-code">Copy</button></pre><p><code class="inline-code-span">intros [ | n&apos;]</code>은 <code class="inline-code-span">\/</code>를 쪼개는게 아니고 <code class="inline-code-span">n</code>을 쪼개는 겁니다. 저는 처음에 헷갈렸는데 헷갈리지 않으시길 바랍니다.</p><hr/><div class="align-center"><p><a href="index.html">메인으로 돌아가기</a></p></div><div class="align-left"><p>&lt;&lt; <a href="Chap5-3.html">Chap5-3. More tactics</a></p></div><div class="align-right"><p><a href="Chap6-2.html">Chap6-2. True and False Propositions</a> &gt;&gt;</p></div><hr class="footnote-hr"/><div class="mdxt-footnote-cites"><p><div class="footnote-cite"><a id="footnote-cite-0"></a><a href="#footnote-ref-0"> [0]</a> 즉, <code class="inline-code-span">nat</code>이나 <code class="inline-code-span">bool</code>등이 할 수 있는 걸 <code class="inline-code-span">Prop</code>도 전부 할 수 있습니다.</div></p></div><script>/*<![CDATA[*/
const fenced_code_block_contents = ["Check 2 = 2.     (* : Prop *)\nCheck 3 = 2.     (* : Prop *)\nCheck (forall n: nat, n + 0 = 0 + n).  (* : Prop *)\nCompute 3 = 3.   (* 3 = 3 : Prop *)\nCompute 3 = 2.   (* 3 = 2 : Prop *)", "Definition is_injective {A B} (f : A -> B) :=\n  forall x y : A,\n  f x = f y -> x = y.", "Theorem S_injective : is_injective S.\n\nProof.\n  intros n m H.\n  injection H as H1.\n  apply H1.\n  Qed.", "", "", "Example and_example : 3 + 4 = 7 /\\ 2 * 2 = 4.\nProof.\n  split.\n  - (* 3 + 4 = 7 *)\n    reflexivity.\n  - (* 2 * 2 = 4 *)\n    reflexivity.\nQed.", "Lemma and_example2 :\n  forall n m : nat, n = 0 /\\ m = 0 -> n + m = 0.\nProof.\n  intros n m H.\n  destruct H as [Hn Hm].\n  rewrite Hn.\n  rewrite Hm.\n  reflexivity.\nQed.", "Theorem and_assoc : forall P Q R : Prop,\n  P /\\ (Q /\\ R) -> (P /\\ Q) /\\ R.\nProof.\n  intros P Q R [HP [HQ HR]].\n  split.\n  - (* P /\\ Q *)\n    split.\n    + (* P *)\n      apply HP.\n    + (* Q *)\n      apply HQ.\n  - (* R *)\n    apply HR.\n  Qed.", "Lemma mult_0:\n  forall n m : nat, n = 0 \\/ m = 0 -> n * m = 0.\nProof.\n  intros n m H.\n  destruct H as [Hn | Hm].\n  - (* Hn: n = 0 *)\n    rewrite Hn.\n    reflexivity.\n  - (* Hm: m = 0 *)\n    rewrite Hm.\n    rewrite <- mult_n_O.\n    reflexivity.\n  Qed.", "Lemma or_intro_l : forall A B : Prop, A -> A \\/ B.\nProof.\n  intros A B HA.\n  left.\n  apply HA.\nQed.", "Lemma zero_or_succ :\n  forall n : nat, n = 0 \\/ n = S (pred n).\nProof.\n  intros [ | n'].\n  - (* n = 0 *)\n    left.\n    reflexivity.\n  - (* n = S n' *)\n    right.\n    reflexivity.\nQed."];

function copy_code_to_clipboard(index) {
    navigator.clipboard.writeText(fenced_code_block_contents[index]);
}/*]]>*/</script>
        <a id="bottom"></a>
    </article>




    <footer class="markdown">
<p><br/></p><p><br/></p><hr/><div class="align-center"><p>2021 ~ 2023 &copy; Baehyunsol</p></div>
    </footer>


    <script src="colors.js"></script>

    
    <script src="nav.js"></script>
    
    
    
    <script src="header.js"></script>
    
<script src="collapsible_tables.js"></script></body>

</html>