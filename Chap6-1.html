<!DOCTYPE html><html>

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    
    <title>Chap6-1</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" rel="stylesheet"/> 
    
    <link href="page.css" rel="stylesheet"/><link href="markdown.css" rel="stylesheet"/><link href="nav.css" rel="stylesheet"/><link href="header.css" rel="stylesheet"/><link href="footer.css" rel="stylesheet"/>
    
</head>

<body>


    <header>
<p><a href="index.html">Home</a></p>
    </header>



    <nav>
<p><a id="settingsopenbutton">&#9728;</a><a href="#top">&#9650;</a><a href="#bottom">&#9660;</a></p><div id="settingsmenubg"><p><div id="settingsmenu"> <a id="settingsclosebutton">&#10006;</a> <a id="changethemebutton">Set Light Theme</a> <a id="loosepaddingbutton">&#8592; &#8594;</a> <a id="tightpaddingbutton">&#8594; &#8592;</a> </div></p></div>
    </nav>


    <article class="markdown">
        <a id="top"></a>
<table><thead id="table-collapse-toggle-0" class="collapsible collapsed" onclick="collapse_table('0')"><tr><th> Table of Contents </th></tr></thead><tbody id="collapsible-table-0" class="invisible"><tr><td><div class="toc"><ol type="1"><li><a href="#가제">가제</a><ol type="1"><li><a href="#prop">Prop</a><ol type="1"><li><a href="#eq">eq</a></li></ol></li></ol></li></ol></div></td></tr></tbody></table><h1 id="가제">가제</h1><p>지금까지 저희는 아주 간단한 논리들 (<code class="inline-code-span">p -&gt; q</code>, <code class="inline-code-span">x = y</code> 등)만 봤습니다. Coq가 다룰 수 있는 논리는 이것들보다 훨씬 많은데, 이번 장에서는 그 논리들을 살펴보겠습니다.</p><p>그 전에, <code class="inline-code-span">Prop</code>이라는 type에 대해서 먼저 알아보겠습니다.</p><h2 id="prop">Prop</h2><p><a href="Chap4-2.html#higher-order-functions">이전</a>에 Coq에서 함수가 일급시민이라고 언급했습니다. 그것과 마찬가지로, 모든 명제들도 일급시민입니다. 모든 명제들은 <code class="inline-code-span">Prop</code>이라는 type을 가지며, 함수의 인자로 쓰거나 반환값으로 쓰는 등 다양한 연산<span class="footnote-ref" id="footnote-ref-0"><a href="#footnote-cite-0">[0]</a></span>을 할 수 있습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Check</span> <span class="color-gold">2</span> <span class="color-white">=</span> <span class="color-gold">2</span><span class="color-white">.</span><span class="color-white">     (*</span><span class="color-gray">{-</span><span class="color-gray"> : Prop </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-gold">Check</span> <span class="color-gold">3</span> <span class="color-white">=</span> <span class="color-gold">2</span><span class="color-white">.</span><span class="color-white">     (*</span><span class="color-gray">{-</span><span class="color-gray"> : Prop </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Check</span><span class="color-white"> (forall n</span><span class="color-white">:</span><span class="color-white"> nat</span><span class="color-white">,</span><span class="color-white"> n </span><span class="color-white">+</span> <span class="color-gold">0</span> <span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">+</span><span class="color-white"> n)</span><span class="color-white">.</span><span class="color-white">  (*</span><span class="color-gray">{-</span><span class="color-gray"> : Prop </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-gold">Compute</span> <span class="color-gold">3</span> <span class="color-white">=</span> <span class="color-gold">3</span><span class="color-white">.</span><span class="color-white">   (*</span><span class="color-gray">{-</span><span class="color-gray"> 3 = 3 : Prop </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-gold">Compute</span> <span class="color-gold">3</span> <span class="color-white">=</span> <span class="color-gold">2</span><span class="color-white">.</span><span class="color-white">   (*</span><span class="color-gray">{-</span><span class="color-gray"> 3 = 2 : Prop </span><span class="color-gray">-}</span><span class="color-white">*)</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(0)">Copy</button></pre><p>위에서처럼 <code class="inline-code-span">Check</code>나 <code class="inline-code-span">Compute</code>를 할 수도 있고, 아래처럼 함수와 조합하여 더 놀라운 것들도 할 수 있습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> is_injective {</span><span class="color-gold">A</span> <span class="color-gold">B</span><span class="color-white">} (f </span><span class="color-white">:</span> <span class="color-gold">A</span> <span class="color-white">-&gt;</span> <span class="color-gold">B</span><span class="color-white">) </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  forall x y </span><span class="color-white">:</span> <span class="color-gold">A</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-white">  f x </span><span class="color-white">=</span><span class="color-white"> f y </span><span class="color-white">-&gt;</span><span class="color-white"> x </span><span class="color-white">=</span><span class="color-white"> y</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(1)">Copy</button></pre><p><code class="inline-code-span">is_injective</code>는 함수를 받아서 <code class="inline-code-span">Prop</code>을 내놓는 함수입니다. <code class="inline-code-span">is_injective</code>가 받는 함수가 injective하면 반환된 <code class="inline-code-span">Prop</code>이 참이고 아니면 반환된 <code class="inline-code-span">Prop</code>이 거짓입니다. 아래의 예시를 보겠습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span> <span class="color-gold">S_injective</span> <span class="color-white">:</span><span class="color-white"> is_injective </span><span class="color-gold">S</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  intros n m </span><span class="color-gold">H</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  injection </span><span class="color-gold">H</span><span class="color-white"> as </span><span class="color-gold">H1</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">  apply </span><span class="color-gold">H1</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(2)">Copy</button></pre><p>자연수를 정의할 때 쓰는 <code class="inline-code-span">S</code>가 injective하단 걸 증명하기 위해 <code class="inline-code-span">is_injective S</code>라는 아주 간단한 표현을 썼습니다. 쉽죠?</p><div class="box"><h4 id="eq">eq</h4><p>참고로 <code class="inline-code-span">x = y</code> 할 때의 <code class="inline-code-span">=</code>도 내장특수 문법이 아닌 일반 함수입니다. <code class="inline-code-span">=</code>는 Coq 표준 라이브러리에 정의돼 있으며 이름은 <code class="inline-code-span">eq</code>입니다. Type을 확인해보면 아래와 같습니다.</p><pre class="fenced-code-block"><code><span class="code-fence-row"><span class="code-fence-code"><span class="color-gold">Check</span><span class="color-white"> @eq </span><span class="color-white">:</span><span class="color-white"> forall </span><span class="color-gold">A</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">,</span> <span class="color-gold">A</span> <span class="color-white">-&gt;</span> <span class="color-gold">A</span> <span class="color-white">-&gt;</span> <span class="color-gold">Prop</span><span class="color-white">.</span></span></span>
</code></pre><p>즉, <code class="inline-code-span">eq</code>는 <code class="inline-code-span">A</code>라는 type의 instance 2개를 받아서 그 둘이 같은지 다른지의 <code class="inline-code-span">Prop</code>을 반환하는 함수입니다.</p></div><hr/><div class="align-center"><p><a href="index.html">메인으로 돌아가기</a></p></div><div class="align-left"><p>&lt;&lt; <a href="Chap5-2.html">Chap5-3. More tactics</a></p></div><div class="align-right"><p>다음 글이 없습니다.</p></div><hr class="footnote-hr"/><div class="mdxt-footnote-cites"><p><div class="footnote-cite"><a id="footnote-cite-0"></a>0. <a href="#footnote-ref-0"> [0]</a> <code class="inline-code-span">nat</code>, <code class="inline-code-span">bool</code>등이 할 수 있는 걸 <code class="inline-code-span">Prop</code>도 전부 할 수 있습니다.</div></p></div><script>/*<![CDATA[*/
const fenced_code_block_contents = ["Check 2 = 2.     (*{- : Prop -}*)\nCheck 3 = 2.     (*{- : Prop -}*)\nCheck (forall n: nat, n + 0 = 0 + n).  (*{- : Prop -}*)\nCompute 3 = 3.   (*{- 3 = 3 : Prop -}*)\nCompute 3 = 2.   (*{- 3 = 2 : Prop -}*)", "Definition is_injective {A B} (f : A -> B) :=\n  forall x y : A,\n  f x = f y -> x = y.", "Theorem S_injective : is_injective S.\n\nProof.\n  intros n m H.\n  injection H as H1.\n  apply H1.\n  Qed."];

function copy_code_to_clipboard(index) {
    navigator.clipboard.writeText(fenced_code_block_contents[index]);
}/*]]>*/</script>
        <a id="bottom"></a>
    </article>




    <footer class="markdown">
<p><br/></p><p><br/></p><hr/><div class="align-center"><p>2021 ~ 2022 (c) Baehyunsol</p></div>
    </footer>


    <script src="colors.js"></script>

    
    <script src="nav.js"></script>
    
<script src="collapsible_tables.js"></script></body>

</html>