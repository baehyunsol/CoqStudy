<!DOCTYPE html><html>

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    
    <title>Appendix</title>
    
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
    <!--<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" rel="stylesheet"/> -->
    
    <link href="page.css" rel="stylesheet"/><link href="markdown.css" rel="stylesheet"/><link href="nav.css" rel="stylesheet"/><link href="header.css" rel="stylesheet"/>
    
</head>

<body>


    <header>
<p><div class="topmenu deactivated"><a href="index.html">Home</a> <a href="index.html#index-by-chapter">단원별 목차</a> <a href="index.html#index-by-keyword">키워드 목차</a> <a href="Appendix.html">부록</a></div><div class="mobileview"><a id="navbutton">&#9776;</a></div></p>
    </header>



    <nav>
<p><a id="settingsopenbutton">&#9728;</a><a href="#top">&#9650;</a><a href="#bottom">&#9660;</a></p><div id="settingsmenubg"><p><div id="settingsmenu"> <a id="settingsclosebutton">&#10006;</a> <a id="changethemebutton">Set Light Theme</a> <a id="growhorizontalbutton">Grow Horizontally</a> <a id="shrinkhorizontalbutton">Shrink Horizontally</a> <a id="growfontbutton">Grow Font</a> <a id="shrinkfontbutton">Shrink Font</a> </div></p></div>
    </nav>


    <article class="markdown">
        <a id="top"></a>
<p>제가 쓰려고 만든 부록 페이지입니다. 아직 CoqIDE에도 익숙하지 않고 stdlib이 있는지도 모르겠어서 그때그때 코드를 복사 붙여넣기해서 쓰는 중입니다. 복사 붙여넣기를 쉽게 하기 위해서 모든 걸 모아둔 페이지입니다.</p><p><div class="toc"><ol type="1"><li><a href="#imp">Imp</a><ol type="1"><li><a href="#total-map">total map</a></li><li><a href="#언어-문법">언어 문법</a></li></ol></li><li><a href="#functional-programming">Functional Programming</a><ol type="1"><li><a href="#map-filter-fold">Map, Filter, Fold</a></li><li><a href="#currying">Currying</a></li></ol></li><li><a href="#natural-numbers">Natural Numbers</a></li><li><a href="#list">List</a></li></ol></div></p><h2 id="imp">Imp</h2><p>12장 이후에 쓰이는 예제들은 아래의 코드를 무식하게 복붙하고 시작합시다!</p><h3 id="total-map">total map</h3><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Require</span> <span class="color-gold">Export</span> <span class="color-gold">Coq</span><span class="color-white">.</span><span class="color-gold">Strings</span><span class="color-white">.</span><span class="color-gold">String</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> total_map (</span><span class="color-gold">A</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">) </span><span class="color-white">:=</span><span class="color-white"> string </span><span class="color-white">-&gt;</span> <span class="color-gold">A</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> t_empty {</span><span class="color-gold">A</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">} (v </span><span class="color-white">:</span> <span class="color-gold">A</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> total_map </span><span class="color-gold">A</span> <span class="color-white">:=</span><span class="color-white"> (fun _ </span><span class="color-white">=&gt;</span><span class="color-white"> v)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> t_update {</span><span class="color-gold">A</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">} (m </span><span class="color-white">:</span><span class="color-white"> total_map </span><span class="color-gold">A</span><span class="color-white">)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-white">                    (x </span><span class="color-white">:</span><span class="color-white"> string) (v </span><span class="color-white">:</span> <span class="color-gold">A</span><span class="color-white">) </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-white">  fun x&apos; </span><span class="color-white">=&gt;</span> <span class="color-violet">if</span> <span class="color-gold">String</span><span class="color-white">.</span><span class="color-white">eqb x x&apos; </span><span class="color-violet">then</span><span class="color-white"> v </span><span class="color-violet">else</span><span class="color-white"> m x&apos;</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">&apos;_&apos; &apos;!-&gt;&apos; v</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (t_empty v)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code"><span class="color-white">  (at level </span><span class="color-gold">100</span><span class="color-white">,</span><span class="color-white"> right associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x &apos;!-&gt;&apos; v &apos;;&apos; m</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (t_update m x v)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">15</span><span class="code-fence-code"><span class="color-white">  (at level </span><span class="color-gold">100</span><span class="color-white">,</span><span class="color-white"> v at next level</span><span class="color-white">,</span><span class="color-white"> right associativity)</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(0)">Copy</button></pre><h3 id="언어-문법">언어 문법</h3><pre class="fenced-code-block line-num-width-2"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">From</span> <span class="color-gold">Coq</span> <span class="color-gold">Require</span> <span class="color-gold">Import</span> <span class="color-gold">Init</span><span class="color-white">.</span><span class="color-gold">Nat</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> state </span><span class="color-white">:=</span><span class="color-white"> total_map nat</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-gold">Inductive</span><span class="color-white"> aexp </span><span class="color-white">:</span> <span class="color-gold">Type</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">ANum</span><span class="color-white"> (n </span><span class="color-white">:</span><span class="color-white"> nat)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">AId</span><span class="color-white"> (x </span><span class="color-white">:</span><span class="color-white"> string)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">APlus</span><span class="color-white"> (a1 a2 </span><span class="color-white">:</span><span class="color-white"> aexp)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">AMinus</span><span class="color-white"> (a1 a2 </span><span class="color-white">:</span><span class="color-white"> aexp)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">AMult</span><span class="color-white"> (a1 a2 </span><span class="color-white">:</span><span class="color-white"> aexp)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code"><span class="color-gold">Inductive</span><span class="color-white"> bexp </span><span class="color-white">:</span> <span class="color-gold">Type</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">BTrue</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">BFalse</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">BEq</span><span class="color-white"> (a1 a2 </span><span class="color-white">:</span><span class="color-white"> aexp)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">15</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">BNeq</span><span class="color-white"> (a1 a2 </span><span class="color-white">:</span><span class="color-white"> aexp)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">16</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">BLe</span><span class="color-white"> (a1 a2 </span><span class="color-white">:</span><span class="color-white"> aexp)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">17</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">BGt</span><span class="color-white"> (a1 a2 </span><span class="color-white">:</span><span class="color-white"> aexp)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">18</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">BNot</span><span class="color-white"> (b </span><span class="color-white">:</span><span class="color-white"> bexp)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">19</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">BAnd</span><span class="color-white"> (b1 b2 </span><span class="color-white">:</span><span class="color-white"> bexp)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">20</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">21</span><span class="code-fence-code"><span class="color-gold">Inductive</span><span class="color-white"> com </span><span class="color-white">:</span> <span class="color-gold">Type</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">22</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">CSkip</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">23</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">CAsgn</span><span class="color-white"> (x </span><span class="color-white">:</span><span class="color-white"> string) (a </span><span class="color-white">:</span><span class="color-white"> aexp)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">24</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">CSeq</span><span class="color-white"> (c1 c2 </span><span class="color-white">:</span><span class="color-white"> com)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">25</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">CIf</span><span class="color-white"> (b </span><span class="color-white">:</span><span class="color-white"> bexp) (c1 c2 </span><span class="color-white">:</span><span class="color-white"> com)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">26</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">CWhile</span><span class="color-white"> (b </span><span class="color-white">:</span><span class="color-white"> bexp) (c </span><span class="color-white">:</span><span class="color-white"> com)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">27</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">28</span><span class="code-fence-code"><span class="color-gold">Coercion</span> <span class="color-gold">AId</span> <span class="color-white">:</span><span class="color-white"> string </span><span class="color-white">&gt;-&gt;</span><span class="color-white"> aexp</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">29</span><span class="code-fence-code"><span class="color-gold">Coercion</span> <span class="color-gold">ANum</span> <span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">&gt;-&gt;</span><span class="color-white"> aexp</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">30</span><span class="code-fence-code"><span class="color-gold">Declare</span> <span class="color-gold">Custom</span> <span class="color-gold">Entry</span><span class="color-white"> com</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">31</span><span class="code-fence-code"><span class="color-gold">Declare</span> <span class="color-gold">Scope</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">32</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">&lt;{ e }&gt;</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> e (at level </span><span class="color-gold">0</span><span class="color-white">,</span><span class="color-white"> e custom com at level </span><span class="color-gold">99</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">33</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">( x )</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> x (</span><span class="color-violet">in</span><span class="color-white"> custom com</span><span class="color-white">,</span><span class="color-white"> x at level </span><span class="color-gold">99</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">34</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> x (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">0</span><span class="color-white">,</span><span class="color-white"> x constr at level </span><span class="color-gold">0</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">35</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">f x .. y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (</span><span class="color-white">..</span><span class="color-white"> (f x) </span><span class="color-white">..</span><span class="color-white"> y)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">36</span><span class="code-fence-code"><span class="color-white">                  (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">0</span><span class="color-white">,</span><span class="color-white"> only parsing</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">37</span><span class="code-fence-code"><span class="color-white">                  f constr at level </span><span class="color-gold">0</span><span class="color-white">,</span><span class="color-white"> x constr at level </span><span class="color-gold">9</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">38</span><span class="code-fence-code"><span class="color-white">                  y constr at level </span><span class="color-gold">9</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">39</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x + y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (</span><span class="color-gold">APlus</span><span class="color-white"> x y) (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">50</span><span class="color-white">,</span><span class="color-white"> left associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">40</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x - y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (</span><span class="color-gold">AMinus</span><span class="color-white"> x y) (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">50</span><span class="color-white">,</span><span class="color-white"> left associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">41</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x * y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (</span><span class="color-gold">AMult</span><span class="color-white"> x y) (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">40</span><span class="color-white">,</span><span class="color-white"> left associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">42</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">&apos;true&apos;</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> true (at level </span><span class="color-gold">1</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">43</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">&apos;true&apos;</span><span class="color-white">&quot;</span> <span class="color-white">:=</span> <span class="color-gold">BTrue</span><span class="color-white"> (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">0</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">44</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">&apos;false&apos;</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> false (at level </span><span class="color-gold">1</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">45</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">&apos;false&apos;</span><span class="color-white">&quot;</span> <span class="color-white">:=</span> <span class="color-gold">BFalse</span><span class="color-white"> (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">0</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">46</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x &lt;= y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (</span><span class="color-gold">BLe</span><span class="color-white"> x y) (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">70</span><span class="color-white">,</span><span class="color-white"> no associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">47</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x &gt; y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (</span><span class="color-gold">BGt</span><span class="color-white"> x y) (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">70</span><span class="color-white">,</span><span class="color-white"> no associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">48</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x = y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (</span><span class="color-gold">BEq</span><span class="color-white"> x y) (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">70</span><span class="color-white">,</span><span class="color-white"> no associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">49</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x &lt;&gt; y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (</span><span class="color-gold">BNeq</span><span class="color-white"> x y) (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">70</span><span class="color-white">,</span><span class="color-white"> no associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">50</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x &amp;&amp; y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (</span><span class="color-gold">BAnd</span><span class="color-white"> x y) (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">80</span><span class="color-white">,</span><span class="color-white"> left associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">51</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">&apos;~&apos; b</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (</span><span class="color-gold">BNot</span><span class="color-white"> b) (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">75</span><span class="color-white">,</span><span class="color-white"> right associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">52</span><span class="code-fence-code"><span class="color-gold">Open</span> <span class="color-gold">Scope</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">53</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">54</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">&apos;skip&apos;</span><span class="color-white">&quot;</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">55</span><span class="code-fence-code">         <span class="color-gold">CSkip</span><span class="color-white"> (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">0</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">56</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x := y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">57</span><span class="code-fence-code"><span class="color-white">         (</span><span class="color-gold">CAsgn</span><span class="color-white"> x y)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">58</span><span class="code-fence-code"><span class="color-white">            (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">0</span><span class="color-white">,</span><span class="color-white"> x constr at level </span><span class="color-gold">0</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">59</span><span class="code-fence-code"><span class="color-white">             y at level </span><span class="color-gold">85</span><span class="color-white">,</span><span class="color-white"> no associativity) </span><span class="color-white">:</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">60</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x ; y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">61</span><span class="code-fence-code"><span class="color-white">         (</span><span class="color-gold">CSeq</span><span class="color-white"> x y)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">62</span><span class="code-fence-code"><span class="color-white">           (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">90</span><span class="color-white">,</span><span class="color-white"> right associativity) </span><span class="color-white">:</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">63</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">&apos;if&apos; x &apos;then&apos; y &apos;else&apos; z &apos;end&apos;</span><span class="color-white">&quot;</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">64</span><span class="code-fence-code"><span class="color-white">         (</span><span class="color-gold">CIf</span><span class="color-white"> x y z)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">65</span><span class="code-fence-code"><span class="color-white">           (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">89</span><span class="color-white">,</span><span class="color-white"> x at level </span><span class="color-gold">99</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">66</span><span class="code-fence-code"><span class="color-white">            y at level </span><span class="color-gold">99</span><span class="color-white">,</span><span class="color-white"> z at level </span><span class="color-gold">99</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">67</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">&apos;while&apos; x &apos;do&apos; y &apos;end&apos;</span><span class="color-white">&quot;</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">68</span><span class="code-fence-code"><span class="color-white">         (</span><span class="color-gold">CWhile</span><span class="color-white"> x y)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">69</span><span class="code-fence-code"><span class="color-white">            (</span><span class="color-violet">in</span><span class="color-white"> custom com at level </span><span class="color-gold">89</span><span class="color-white">,</span><span class="color-white"> x at level </span><span class="color-gold">99</span><span class="color-white">,</span><span class="color-white"> y at level </span><span class="color-gold">99</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> com_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">70</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">71</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> aeval (st </span><span class="color-white">:</span><span class="color-white"> state) (a </span><span class="color-white">:</span><span class="color-white"> aexp) </span><span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">72</span><span class="code-fence-code"><span class="color-white">  match a with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">73</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">ANum</span><span class="color-white"> n </span><span class="color-white">=&gt;</span><span class="color-white"> n
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">74</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">AId</span><span class="color-white"> x </span><span class="color-white">=&gt;</span><span class="color-white"> st x
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">75</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{a1 </span><span class="color-white">+</span><span class="color-white"> a2}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> (aeval st a1) </span><span class="color-white">+</span><span class="color-white"> (aeval st a2)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">76</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{a1 </span><span class="color-white">-</span><span class="color-white"> a2}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> (aeval st a1) </span><span class="color-white">-</span><span class="color-white"> (aeval st a2)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">77</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{a1 * a2}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> (aeval st a1) * (aeval st a2)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">78</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">79</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">80</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> beval (st </span><span class="color-white">:</span><span class="color-white"> state) (b </span><span class="color-white">:</span><span class="color-white"> bexp) </span><span class="color-white">:</span><span class="color-white"> bool </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">81</span><span class="code-fence-code"><span class="color-white">  match b with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">82</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{true}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> true
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">83</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{false}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> false
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">84</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{a1 </span><span class="color-white">=</span><span class="color-white"> a2}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> (aeval st a1) </span><span class="color-white">=?</span><span class="color-white"> (aeval st a2)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">85</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{a1 </span><span class="color-white">&lt;&gt;</span><span class="color-white"> a2}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> negb ((aeval st a1) </span><span class="color-white">=?</span><span class="color-white"> (aeval st a2))
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">86</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{a1 </span><span class="color-white">&lt;=</span><span class="color-white"> a2}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> (aeval st a1) </span><span class="color-white">&lt;=?</span><span class="color-white"> (aeval st a2)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">87</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{a1 </span><span class="color-white">&gt;</span><span class="color-white"> a2}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> negb ((aeval st a1) </span><span class="color-white">&lt;=?</span><span class="color-white"> (aeval st a2))
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">88</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{</span><span class="color-white">~</span><span class="color-white"> b1}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> negb (beval st b1)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">89</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-white">&lt;</span><span class="color-white">{b1 &amp;&amp; b2}</span><span class="color-white">&gt;</span> <span class="color-white">=&gt;</span><span class="color-white"> andb (beval st b1) (beval st b2)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">90</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">91</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">92</span><span class="code-fence-code"><span class="color-gold">Reserved</span> <span class="color-gold">Notation</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">93</span><span class="code-fence-code">         <span class="color-white">&quot;</span><span class="color-green">st &apos;=[&apos; c &apos;]=&gt;&apos; st&apos;</span><span class="color-white">&quot;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">94</span><span class="code-fence-code"><span class="color-white">         (at level </span><span class="color-gold">40</span><span class="color-white">,</span><span class="color-white"> c custom com at level </span><span class="color-gold">99</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">95</span><span class="code-fence-code"><span class="color-white">          st constr</span><span class="color-white">,</span><span class="color-white"> st&apos; constr at next level)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">96</span><span class="code-fence-code"><span class="color-gold">Inductive</span><span class="color-white"> ceval </span><span class="color-white">:</span><span class="color-white"> com </span><span class="color-white">-&gt;</span><span class="color-white"> state </span><span class="color-white">-&gt;</span><span class="color-white"> state </span><span class="color-white">-&gt;</span> <span class="color-gold">Prop</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">97</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">E_Skip</span> <span class="color-white">:</span><span class="color-white"> forall st</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">98</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ skip ]</span><span class="color-white">=&gt;</span><span class="color-white"> st
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">99</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">E_Asgn</span> <span class="color-white">:</span><span class="color-white"> forall st a n x</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">100</span><span class="code-fence-code"><span class="color-white">      aeval st a </span><span class="color-white">=</span><span class="color-white"> n </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">101</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ x </span><span class="color-white">:=</span><span class="color-white"> a ]</span><span class="color-white">=&gt;</span><span class="color-white"> (x </span><span class="color-white">!-&gt;</span><span class="color-white"> n ; st)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">102</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">E_Seq</span> <span class="color-white">:</span><span class="color-white"> forall c1 c2 st st&apos; st&apos;&apos;</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">103</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ c1 ]</span><span class="color-white">=&gt;</span><span class="color-white"> st&apos; </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">104</span><span class="code-fence-code"><span class="color-white">      st&apos; </span><span class="color-white">=</span><span class="color-white">[ c2 ]</span><span class="color-white">=&gt;</span><span class="color-white"> st&apos;&apos; </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">105</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ c1 ; c2 ]</span><span class="color-white">=&gt;</span><span class="color-white"> st&apos;&apos;
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">106</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">E_IfTrue</span> <span class="color-white">:</span><span class="color-white"> forall st st&apos; b c1 c2</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">107</span><span class="code-fence-code"><span class="color-white">      beval st b </span><span class="color-white">=</span><span class="color-white"> true </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">108</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ c1 ]</span><span class="color-white">=&gt;</span><span class="color-white"> st&apos; </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">109</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ </span><span class="color-violet">if</span><span class="color-white"> b </span><span class="color-violet">then</span><span class="color-white"> c1 </span><span class="color-violet">else</span><span class="color-white"> c2 end]</span><span class="color-white">=&gt;</span><span class="color-white"> st&apos;
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">110</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">E_IfFalse</span> <span class="color-white">:</span><span class="color-white"> forall st st&apos; b c1 c2</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">111</span><span class="code-fence-code"><span class="color-white">      beval st b </span><span class="color-white">=</span><span class="color-white"> false </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">112</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ c2 ]</span><span class="color-white">=&gt;</span><span class="color-white"> st&apos; </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">113</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ </span><span class="color-violet">if</span><span class="color-white"> b </span><span class="color-violet">then</span><span class="color-white"> c1 </span><span class="color-violet">else</span><span class="color-white"> c2 end]</span><span class="color-white">=&gt;</span><span class="color-white"> st&apos;
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">114</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">E_WhileFalse</span> <span class="color-white">:</span><span class="color-white"> forall b st c</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">115</span><span class="code-fence-code"><span class="color-white">      beval st b </span><span class="color-white">=</span><span class="color-white"> false </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">116</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ while b </span><span class="color-violet">do</span><span class="color-white"> c end ]</span><span class="color-white">=&gt;</span><span class="color-white"> st
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">117</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">E_WhileTrue</span> <span class="color-white">:</span><span class="color-white"> forall st st&apos; st&apos;&apos; b c</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">118</span><span class="code-fence-code"><span class="color-white">      beval st b </span><span class="color-white">=</span><span class="color-white"> true </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">119</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ c ]</span><span class="color-white">=&gt;</span><span class="color-white"> st&apos; </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">120</span><span class="code-fence-code"><span class="color-white">      st&apos; </span><span class="color-white">=</span><span class="color-white">[ while b </span><span class="color-violet">do</span><span class="color-white"> c end ]</span><span class="color-white">=&gt;</span><span class="color-white"> st&apos;&apos; </span><span class="color-white">-&gt;</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">121</span><span class="code-fence-code"><span class="color-white">      st </span><span class="color-white">=</span><span class="color-white">[ while b </span><span class="color-violet">do</span><span class="color-white"> c end ]</span><span class="color-white">=&gt;</span><span class="color-white"> st&apos;&apos;
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">122</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">123</span><span class="code-fence-code">  <span class="color-violet">where</span> <span class="color-white">&quot;</span><span class="color-green">st =[ c ]=&gt; st&apos;</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (ceval c st st&apos;)</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(1)">Copy</button></pre><h2 id="functional-programming">Functional Programming</h2><h3 id="map-filter-fold">Map, Filter, Fold</h3><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> filter {</span><span class="color-gold">X</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">} (test </span><span class="color-white">:</span> <span class="color-gold">X</span> <span class="color-white">-&gt;</span><span class="color-white"> bool) (l </span><span class="color-white">:</span><span class="color-white"> list </span><span class="color-gold">X</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> list </span><span class="color-gold">X</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span><span class="color-white"> nil
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span> <span class="color-violet">if</span><span class="color-white"> test h
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">    <span class="color-violet">then</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> (filter test t)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">    <span class="color-violet">else</span><span class="color-white"> filter test t
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> map {</span><span class="color-gold">X</span> <span class="color-gold">Y</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">} (f </span><span class="color-white">:</span> <span class="color-gold">X</span> <span class="color-white">-&gt;</span> <span class="color-gold">Y</span><span class="color-white">) (l </span><span class="color-white">:</span><span class="color-white"> list </span><span class="color-gold">X</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> list </span><span class="color-gold">Y</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code"><span class="color-white">  match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">[]</span> <span class="color-white">=&gt;</span> <span class="color-gold">[]</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> (f h) </span><span class="color-white">::</span><span class="color-white"> (map f t)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">15</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> fold {</span><span class="color-gold">X</span> <span class="color-gold">Y</span><span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">} (f </span><span class="color-white">:</span> <span class="color-gold">X</span> <span class="color-white">-&gt;</span> <span class="color-gold">Y</span> <span class="color-white">-&gt;</span> <span class="color-gold">Y</span><span class="color-white">) (l </span><span class="color-white">:</span><span class="color-white"> list </span><span class="color-gold">X</span><span class="color-white">) (b </span><span class="color-white">:</span> <span class="color-gold">Y</span><span class="color-white">) </span><span class="color-white">:</span> <span class="color-gold">Y</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">16</span><span class="code-fence-code"><span class="color-white">  match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">17</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">[]</span> <span class="color-white">=&gt;</span><span class="color-white"> b
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">18</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> f h (fold f t b)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">19</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(2)">Copy</button></pre><h3 id="currying">Currying</h3><p>pair와 prod의 정의도 포함시켰습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Inductive</span><span class="color-white"> prod (</span><span class="color-gold">X</span> <span class="color-gold">Y</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">) </span><span class="color-white">:</span> <span class="color-gold">Type</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">|</span><span class="color-white"> pair (x </span><span class="color-white">:</span> <span class="color-gold">X</span><span class="color-white">) (y </span><span class="color-white">:</span> <span class="color-gold">Y</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-gold">Arguments</span><span class="color-white"> pair {</span><span class="color-gold">X</span><span class="color-white">} {</span><span class="color-gold">Y</span><span class="color-white">}</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">( x , y )</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (pair x y)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">X * Y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (prod </span><span class="color-gold">X</span> <span class="color-gold">Y</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> type_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> fst {</span><span class="color-gold">X</span> <span class="color-gold">Y</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">} (p </span><span class="color-white">:</span> <span class="color-gold">X</span><span class="color-white"> * </span><span class="color-gold">Y</span><span class="color-white">) </span><span class="color-white">:</span> <span class="color-gold">X</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-white">  match p with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (x</span><span class="color-white">,</span><span class="color-white"> y) </span><span class="color-white">=&gt;</span><span class="color-white"> x
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> snd {</span><span class="color-gold">X</span> <span class="color-gold">Y</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">} (p </span><span class="color-white">:</span> <span class="color-gold">X</span><span class="color-white"> * </span><span class="color-gold">Y</span><span class="color-white">) </span><span class="color-white">:</span> <span class="color-gold">Y</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code"><span class="color-white">  match p with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (x</span><span class="color-white">,</span><span class="color-white"> y) </span><span class="color-white">=&gt;</span><span class="color-white"> y
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">15</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">16</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">17</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> prod_curry {</span><span class="color-gold">X</span> <span class="color-gold">Y</span> <span class="color-gold">Z</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">}
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">18</span><span class="code-fence-code"><span class="color-white">  (f </span><span class="color-white">:</span> <span class="color-gold">X</span><span class="color-white"> * </span><span class="color-gold">Y</span> <span class="color-white">-&gt;</span> <span class="color-gold">Z</span><span class="color-white">) (x </span><span class="color-white">:</span> <span class="color-gold">X</span><span class="color-white">) (y </span><span class="color-white">:</span> <span class="color-gold">Y</span><span class="color-white">) </span><span class="color-white">:</span> <span class="color-gold">Z</span> <span class="color-white">:=</span><span class="color-white"> f (x</span><span class="color-white">,</span><span class="color-white"> y)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">19</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">20</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> prod_uncurry {</span><span class="color-gold">X</span> <span class="color-gold">Y</span> <span class="color-gold">Z</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">}
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">21</span><span class="code-fence-code"><span class="color-white">  (f </span><span class="color-white">:</span> <span class="color-gold">X</span> <span class="color-white">-&gt;</span> <span class="color-gold">Y</span> <span class="color-white">-&gt;</span> <span class="color-gold">Z</span><span class="color-white">) (x </span><span class="color-white">:</span> <span class="color-gold">X</span><span class="color-white"> * </span><span class="color-gold">Y</span><span class="color-white">) </span><span class="color-white">:</span> <span class="color-gold">Z</span> <span class="color-white">:=</span><span class="color-white"> f (fst x) (snd x)</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(3)">Copy</button></pre><h2 id="natural-numbers">Natural Numbers</h2><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> div2 (n </span><span class="color-white">:</span><span class="color-white"> nat) </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match n with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">0</span> <span class="color-white">=&gt;</span> <span class="color-gold">0</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">1</span> <span class="color-white">=&gt;</span> <span class="color-gold">0</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> (</span><span class="color-gold">S</span><span class="color-white"> n) </span><span class="color-white">=&gt;</span> <span class="color-gold">S</span><span class="color-white"> (div2 n)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> double (n</span><span class="color-white">:</span><span class="color-white">nat) </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-white">  match n with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span> <span class="color-gold">O</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> n&apos; </span><span class="color-white">=&gt;</span> <span class="color-gold">S</span><span class="color-white"> (</span><span class="color-gold">S</span><span class="color-white"> (double n&apos;))
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code"><span class="color-gold">Definition</span> <span class="color-gold">Even</span><span class="color-white"> x </span><span class="color-white">:=</span><span class="color-white"> exists n </span><span class="color-white">:</span><span class="color-white"> nat</span><span class="color-white">,</span><span class="color-white"> x </span><span class="color-white">=</span><span class="color-white"> double n</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">15</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">16</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> even (n </span><span class="color-white">:</span><span class="color-white"> nat) </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">17</span><span class="code-fence-code"><span class="color-white">  match n with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">18</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">0</span> <span class="color-white">=&gt;</span><span class="color-white"> true
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">19</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">S</span> <span class="color-gold">0</span> <span class="color-white">=&gt;</span><span class="color-white"> false
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">20</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> (</span><span class="color-gold">S</span><span class="color-white"> n) </span><span class="color-white">=&gt;</span><span class="color-white"> even n
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">21</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">22</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">23</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> add_0_r </span><span class="color-white">:</span><span class="color-white"> forall n </span><span class="color-white">:</span><span class="color-white"> nat</span><span class="color-white">,</span><span class="color-white"> n </span><span class="color-white">+</span> <span class="color-gold">0</span> <span class="color-white">=</span><span class="color-white"> n</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">24</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">25</span><span class="code-fence-code"><span class="color-white">  intros n</span><span class="color-white">.</span><span class="color-white"> induction n as [ </span><span class="color-white">|</span><span class="color-white"> n&apos; </span><span class="color-gold">IHn</span><span class="color-white">&apos;]</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">26</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (*</span><span class="color-gray">{-</span><span class="color-gray"> n = 0 </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">27</span><span class="code-fence-code"><span class="color-white">    reflexivity</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">28</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (*</span><span class="color-gray">{-</span><span class="color-gray"> n = S n&apos; </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">29</span><span class="code-fence-code"><span class="color-white">    simpl</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">30</span><span class="code-fence-code"><span class="color-white">    rewrite </span><span class="color-white">-&gt;</span> <span class="color-gold">IHn</span><span class="color-white">&apos;</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">31</span><span class="code-fence-code"><span class="color-white">    reflexivity</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">32</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">33</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">34</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> add_comm </span><span class="color-white">:</span><span class="color-white"> forall n m </span><span class="color-white">:</span><span class="color-white"> nat</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">35</span><span class="code-fence-code"><span class="color-white">  n </span><span class="color-white">+</span><span class="color-white"> m </span><span class="color-white">=</span><span class="color-white"> m </span><span class="color-white">+</span><span class="color-white"> n</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">36</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">37</span><span class="code-fence-code"><span class="color-white">  induction n as [ </span><span class="color-white">|</span><span class="color-white"> n&apos;]</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">38</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (*</span><span class="color-gray">{-</span><span class="color-gray"> n = O </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">39</span><span class="code-fence-code"><span class="color-white">    intros m</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">40</span><span class="code-fence-code"><span class="color-white">    rewrite </span><span class="color-white">-&gt;</span><span class="color-white"> add_0_r</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">41</span><span class="code-fence-code"><span class="color-white">    reflexivity</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">42</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (*</span><span class="color-gray">{-</span><span class="color-gray"> n = S n&apos; </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">43</span><span class="code-fence-code"><span class="color-white">    intros m</span><span class="color-white">.</span><span class="color-white"> simpl</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">44</span><span class="code-fence-code"><span class="color-white">    rewrite </span><span class="color-white">-&gt;</span> <span class="color-gold">IHn</span><span class="color-white">&apos;</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">45</span><span class="code-fence-code"><span class="color-white">    rewrite </span><span class="color-white">&lt;-</span><span class="color-white"> plus_n_Sm</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">46</span><span class="code-fence-code"><span class="color-white">    reflexivity</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">47</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">48</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">49</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> eqb (n m </span><span class="color-white">:</span><span class="color-white"> nat) </span><span class="color-white">:</span><span class="color-white"> bool </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">50</span><span class="code-fence-code"><span class="color-white">  match n with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">51</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span><span class="color-white"> match m with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">52</span><span class="code-fence-code">    <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span><span class="color-white"> true
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">53</span><span class="code-fence-code">    <span class="color-white">|</span><span class="color-white"> _ </span><span class="color-white">=&gt;</span><span class="color-white"> false
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">54</span><span class="code-fence-code"><span class="color-white">    end
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">55</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> n&apos; </span><span class="color-white">=&gt;</span><span class="color-white"> match m with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">56</span><span class="code-fence-code">    <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span><span class="color-white"> false
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">57</span><span class="code-fence-code">    <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> m&apos; </span><span class="color-white">=&gt;</span><span class="color-white"> eqb n&apos; m&apos;
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">58</span><span class="code-fence-code"><span class="color-white">    end
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">59</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">60</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">61</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> leb (m n </span><span class="color-white">:</span><span class="color-white"> nat) </span><span class="color-white">:</span><span class="color-white"> bool </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">62</span><span class="code-fence-code"><span class="color-white">  match m with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">63</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span><span class="color-white"> true
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">64</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> m&apos; </span><span class="color-white">=&gt;</span><span class="color-white"> match n with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">65</span><span class="code-fence-code">    <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span><span class="color-white"> false
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">66</span><span class="code-fence-code">    <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> n&apos; </span><span class="color-white">=&gt;</span><span class="color-white"> leb m&apos; n&apos;
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">67</span><span class="code-fence-code"><span class="color-white">    end
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">68</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">69</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">70</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x =? y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (eqb x y) (at level </span><span class="color-gold">70</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> nat_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">71</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x &lt;=? y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (leb x y) (at level </span><span class="color-gold">70</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> nat_scope</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(4)">Copy</button></pre><h2 id="list">List</h2><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Inductive</span><span class="color-white"> list (</span><span class="color-gold">X</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">) </span><span class="color-white">:</span> <span class="color-gold">Type</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> cons (x </span><span class="color-white">:</span> <span class="color-gold">X</span><span class="color-white">) (l </span><span class="color-white">:</span><span class="color-white"> list </span><span class="color-gold">X</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-gold">Arguments</span><span class="color-white"> nil {</span><span class="color-gold">X</span><span class="color-white">}</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-gold">Arguments</span><span class="color-white"> cons {</span><span class="color-gold">X</span><span class="color-white">}</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x :: l</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (cons x l)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-white">                     (at level </span><span class="color-gold">60</span><span class="color-white">,</span><span class="color-white"> right associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">[ ]</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> nil</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">[ x ; .. ; y ]</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (cons x </span><span class="color-white">..</span><span class="color-white"> (cons y nil) </span><span class="color-white">..</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> append {</span><span class="color-gold">X</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">} (l1 l2 </span><span class="color-white">:</span><span class="color-white"> list </span><span class="color-gold">X</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> list </span><span class="color-gold">X</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code"><span class="color-white">  match l1 with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">15</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span><span class="color-white"> l2
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">16</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> (append t l2)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">17</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">18</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">19</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x ++ y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (append x y)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">20</span><span class="code-fence-code"><span class="color-white">                     (right associativity</span><span class="color-white">,</span><span class="color-white"> at level </span><span class="color-gold">60</span><span class="color-white">)</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(5)">Copy</button></pre><script>/*<![CDATA[*/
const fenced_code_block_contents = ["Require Export Coq.Strings.String.\n\nDefinition total_map (A : Type) := string -> A.\n\nDefinition t_empty {A : Type} (v : A) : total_map A := (fun _ => v).\n\nDefinition t_update {A : Type} (m : total_map A)\n                    (x : string) (v : A) :=\n  fun x' => if String.eqb x x' then v else m x'.\n\nNotation \"'_' '!->' v\" := (t_empty v)\n  (at level 100, right associativity).\n\nNotation \"x '!->' v ';' m\" := (t_update m x v)\n  (at level 100, v at next level, right associativity).", "From Coq Require Import Init.Nat.\nDefinition state := total_map nat.\n\nInductive aexp : Type :=\n  | ANum (n : nat)\n  | AId (x : string)\n  | APlus (a1 a2 : aexp)\n  | AMinus (a1 a2 : aexp)\n  | AMult (a1 a2 : aexp).\n\nInductive bexp : Type :=\n  | BTrue\n  | BFalse\n  | BEq (a1 a2 : aexp)\n  | BNeq (a1 a2 : aexp)\n  | BLe (a1 a2 : aexp)\n  | BGt (a1 a2 : aexp)\n  | BNot (b : bexp)\n  | BAnd (b1 b2 : bexp).\n\nInductive com : Type :=\n  | CSkip\n  | CAsgn (x : string) (a : aexp)\n  | CSeq (c1 c2 : com)\n  | CIf (b : bexp) (c1 c2 : com)\n  | CWhile (b : bexp) (c : com).\n\nCoercion AId : string >-> aexp.\nCoercion ANum : nat >-> aexp.\nDeclare Custom Entry com.\nDeclare Scope com_scope.\nNotation \"<{ e }>\" := e (at level 0, e custom com at level 99) : com_scope.\nNotation \"( x )\" := x (in custom com, x at level 99) : com_scope.\nNotation \"x\" := x (in custom com at level 0, x constr at level 0) : com_scope.\nNotation \"f x .. y\" := (.. (f x) .. y)\n                  (in custom com at level 0, only parsing,\n                  f constr at level 0, x constr at level 9,\n                  y constr at level 9) : com_scope.\nNotation \"x + y\" := (APlus x y) (in custom com at level 50, left associativity).\nNotation \"x - y\" := (AMinus x y) (in custom com at level 50, left associativity).\nNotation \"x * y\" := (AMult x y) (in custom com at level 40, left associativity).\nNotation \"'true'\" := true (at level 1).\nNotation \"'true'\" := BTrue (in custom com at level 0).\nNotation \"'false'\" := false (at level 1).\nNotation \"'false'\" := BFalse (in custom com at level 0).\nNotation \"x <= y\" := (BLe x y) (in custom com at level 70, no associativity).\nNotation \"x > y\" := (BGt x y) (in custom com at level 70, no associativity).\nNotation \"x = y\" := (BEq x y) (in custom com at level 70, no associativity).\nNotation \"x <> y\" := (BNeq x y) (in custom com at level 70, no associativity).\nNotation \"x && y\" := (BAnd x y) (in custom com at level 80, left associativity).\nNotation \"'~' b\" := (BNot b) (in custom com at level 75, right associativity).\nOpen Scope com_scope.\n\nNotation \"'skip'\" :=\n         CSkip (in custom com at level 0) : com_scope.\nNotation \"x := y\" :=\n         (CAsgn x y)\n            (in custom com at level 0, x constr at level 0,\n             y at level 85, no associativity) : com_scope.\nNotation \"x ; y\" :=\n         (CSeq x y)\n           (in custom com at level 90, right associativity) : com_scope.\nNotation \"'if' x 'then' y 'else' z 'end'\" :=\n         (CIf x y z)\n           (in custom com at level 89, x at level 99,\n            y at level 99, z at level 99) : com_scope.\nNotation \"'while' x 'do' y 'end'\" :=\n         (CWhile x y)\n            (in custom com at level 89, x at level 99, y at level 99) : com_scope.\n\nFixpoint aeval (st : state) (a : aexp) : nat :=\n  match a with\n  | ANum n => n\n  | AId x => st x\n  | <{a1 + a2}> => (aeval st a1) + (aeval st a2)\n  | <{a1 - a2}> => (aeval st a1) - (aeval st a2)\n  | <{a1 * a2}> => (aeval st a1) * (aeval st a2)\n  end.\n\nFixpoint beval (st : state) (b : bexp) : bool :=\n  match b with\n  | <{true}> => true\n  | <{false}> => false\n  | <{a1 = a2}> => (aeval st a1) =? (aeval st a2)\n  | <{a1 <> a2}> => negb ((aeval st a1) =? (aeval st a2))\n  | <{a1 <= a2}> => (aeval st a1) <=? (aeval st a2)\n  | <{a1 > a2}> => negb ((aeval st a1) <=? (aeval st a2))\n  | <{~ b1}> => negb (beval st b1)\n  | <{b1 && b2}> => andb (beval st b1) (beval st b2)\n  end.\n\nReserved Notation\n         \"st '=[' c ']=>' st'\"\n         (at level 40, c custom com at level 99,\n          st constr, st' constr at next level).\nInductive ceval : com -> state -> state -> Prop :=\n  | E_Skip : forall st,\n      st =[ skip ]=> st\n  | E_Asgn : forall st a n x,\n      aeval st a = n ->\n      st =[ x := a ]=> (x !-> n ; st)\n  | E_Seq : forall c1 c2 st st' st'',\n      st =[ c1 ]=> st' ->\n      st' =[ c2 ]=> st'' ->\n      st =[ c1 ; c2 ]=> st''\n  | E_IfTrue : forall st st' b c1 c2,\n      beval st b = true ->\n      st =[ c1 ]=> st' ->\n      st =[ if b then c1 else c2 end]=> st'\n  | E_IfFalse : forall st st' b c1 c2,\n      beval st b = false ->\n      st =[ c2 ]=> st' ->\n      st =[ if b then c1 else c2 end]=> st'\n  | E_WhileFalse : forall b st c,\n      beval st b = false ->\n      st =[ while b do c end ]=> st\n  | E_WhileTrue : forall st st' st'' b c,\n      beval st b = true ->\n      st =[ c ]=> st' ->\n      st' =[ while b do c end ]=> st'' ->\n      st =[ while b do c end ]=> st''\n\n  where \"st =[ c ]=> st'\" := (ceval c st st').", "Fixpoint filter {X : Type} (test : X -> bool) (l : list X) : list X :=\n  match l with\n  | nil => nil\n  | h :: t => if test h\n    then h :: (filter test t)\n    else filter test t\n  end.\n\nFixpoint map {X Y : Type} (f : X -> Y) (l : list X) : list Y :=\n  match l with\n  | [] => []\n  | h :: t => (f h) :: (map f t)\n  end.\n\nFixpoint fold {X Y: Type} (f : X -> Y -> Y) (l : list X) (b : Y) : Y :=\n  match l with\n  | [] => b\n  | h :: t => f h (fold f t b)\n  end.", "Inductive prod (X Y : Type) : Type :=\n| pair (x : X) (y : Y).\n\nArguments pair {X} {Y}.\nNotation \"( x , y )\" := (pair x y).\nNotation \"X * Y\" := (prod X Y) : type_scope.\n\nDefinition fst {X Y : Type} (p : X * Y) : X :=\n  match p with\n  | (x, y) => x\n  end.\nDefinition snd {X Y : Type} (p : X * Y) : Y :=\n  match p with\n  | (x, y) => y\n  end.\n\nDefinition prod_curry {X Y Z : Type}\n  (f : X * Y -> Z) (x : X) (y : Y) : Z := f (x, y).\n\nDefinition prod_uncurry {X Y Z : Type}\n  (f : X -> Y -> Z) (x : X * Y) : Z := f (fst x) (snd x).", "Fixpoint div2 (n : nat) :=\n  match n with\n  | 0 => 0\n  | 1 => 0\n  | S (S n) => S (div2 n)\n  end.\n\nFixpoint double (n:nat) :=\n  match n with\n  | O => O\n  | S n' => S (S (double n'))\n  end.\n\nDefinition Even x := exists n : nat, x = double n.\n\nFixpoint even (n : nat) :=\n  match n with\n  | 0 => true\n  | S 0 => false\n  | S (S n) => even n\n  end.\n\nTheorem add_0_r : forall n : nat, n + 0 = n.\nProof.\n  intros n. induction n as [ | n' IHn'].\n  - (*{- n = 0 -}*)\n    reflexivity.\n  - (*{- n = S n' -}*)\n    simpl.\n    rewrite -> IHn'.\n    reflexivity.\n  Qed.\n\nTheorem add_comm : forall n m : nat,\n  n + m = m + n.\nProof.\n  induction n as [ | n'].\n  - (*{- n = O -}*)\n    intros m.\n    rewrite -> add_0_r.\n    reflexivity.\n  - (*{- n = S n' -}*)\n    intros m. simpl.\n    rewrite -> IHn'.\n    rewrite <- plus_n_Sm.\n    reflexivity.\n  Qed.\n\nFixpoint eqb (n m : nat) : bool :=\n  match n with\n  | O => match m with\n    | O => true\n    | _ => false\n    end\n  | S n' => match m with\n    | O => false\n    | S m' => eqb n' m'\n    end\n  end.\n\nFixpoint leb (m n : nat) : bool :=\n  match m with\n  | O => true\n  | S m' => match n with\n    | O => false\n    | S n' => leb m' n'\n    end\n  end.\n\nNotation \"x =? y\" := (eqb x y) (at level 70) : nat_scope.\nNotation \"x <=? y\" := (leb x y) (at level 70) : nat_scope.", "Inductive list (X : Type) : Type :=\n  | nil\n  | cons (x : X) (l : list X).\n\nArguments nil {X}.\nArguments cons {X}.\n\nNotation \"x :: l\" := (cons x l)\n                     (at level 60, right associativity).\nNotation \"[ ]\" := nil.\nNotation \"[ x ; .. ; y ]\" := (cons x .. (cons y nil) ..).\n\nFixpoint append {X : Type} (l1 l2 : list X) : list X :=\n  match l1 with\n  | nil => l2\n  | h :: t => h :: (append t l2)\n  end.\n\nNotation \"x ++ y\" := (append x y)\n                     (right associativity, at level 60)."];

function copy_code_to_clipboard(index) {
    navigator.clipboard.writeText(fenced_code_block_contents[index]);
}/*]]>*/</script>
        <a id="bottom"></a>
    </article>




    <footer class="markdown">
<p><br/></p><p><br/></p><hr/><div class="align-center"><p>2021 ~ 2023 &copy; Baehyunsol</p></div>
    </footer>


    <script src="colors.js"></script>

    
    <script src="nav.js"></script>
    
    
    
    <script src="header.js"></script>
    
</body>

</html>