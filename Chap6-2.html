<table><thead id="table-collapse-toggle-0" class="collapsible collapsed" onclick ="collapse_table('0')"><tr><th> Table of Contents </th></tr></thead><tbody id="collapsible-table-0" class="invisible"><tr><td><div class="toc"><ol type="1"><li><a href="#true-and-false-propositions">True and False Propositions</a><ol type="1"><li><a href="#falsehood-and-negation">Falsehood and Negation</a></li><li><a href="#true">True</a></li><li><a href="#if-and-only-if">if and only if</a><ol type="1"><li><a href="#setoids">Setoids</a></li></ol></li></ol></li></ol></div></td></tr></tbody></table><h1 id="true-and-false-propositions">True and False Propositions</h1><h2 id="falsehood-and-negation">Falsehood and Negation</h2><p>지금까지는 Coq로 참인 명제들을 증명하는 것만 봤습니다. Coq로 거짓인 명제들을 다룰 순 없을까요? 있습니다. 먼저 Coq에서 명제의 참과 거짓을 어떻게 정의하는지부터 보겠습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Inductive</span> <span class="color-gold">True</span> <span class="color-white">:</span> <span class="color-gold">Prop</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-gold">I</span> <span class="color-white">:</span> <span class="color-gold">True</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-gold">Inductive</span> <span class="color-gold">False</span> <span class="color-white">:</span> <span class="color-gold">Prop</span> <span class="color-white">:=.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> not (</span><span class="color-gold">A</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">) </span><span class="color-white">:=</span> <span class="color-gold">A</span> <span class="color-white">-&gt;</span> <span class="color-gold">False</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">~ x</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (not x) </span><span class="color-white">:</span><span class="color-white"> type_scope</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-gold">Check</span> <span class="color-gold">True</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code"><span class="color-gold">Check</span> <span class="color-gold">False</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code"><span class="color-gold">Check</span><span class="color-white"> not </span><span class="color-white">:</span> <span class="color-gold">Prop</span> <span class="color-white">-&gt;</span> <span class="color-gold">Prop</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(0)">Copy</button></pre><p>정의만 봐서는 알쏭달쏭합니다. 몇가지 간단한 증명들을 해보면서 감을 잡아봅시다.</p><p><a id="exfalsoquodlibet"></a></p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> ex_falso_quodlibet </span><span class="color-white">:</span><span class="color-white"> forall (</span><span class="color-gold">P</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">)</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-gold">False</span> <span class="color-white">-&gt;</span> <span class="color-gold">P</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  intros </span><span class="color-gold">P</span><span class="color-white"> contra</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  destruct contra</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(1)">Copy</button></pre><p><u>ex falso quodlibet</u>은 라틴어로 <u>가정이 거짓이면 명제는 참이다</u>라는 뜻입니다. 그걸 증명했어요. 위의 증명에서 context에는 <code class="inline-code-span">contra: False</code>가 들어있습니다. 근데 <code class="inline-code-span">destruct contra</code>를 하니까 모든게 사라집니다. <code class="inline-code-span">destruct</code>는 모든 경우에 대해서 명제가 참인지 확인하는 tactic이죠? 근데 <code class="inline-code-span">False</code>의 정의를 보면 아무것도 없죠? 즉, 아무것도 안 증명해도 모든 것에 대해서 증명한게 됩니다. 언제나. 그래서 이런 식으로 <code class="inline-code-span">destruct</code>와 context에 있는 <code class="inline-code-span">False</code>를 이용해서 명제를 증명할 수 있습니다.</p><p>또 다른 걸 증명해보겠습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> zero_not_one </span><span class="color-white">:</span> <span class="color-white">~</span><span class="color-white">(</span><span class="color-gold">0</span> <span class="color-white">=</span> <span class="color-gold">1</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-white">  unfold not</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  intros contra</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  discriminate contra</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(2)">Copy</button></pre><p>0 ≠ 1이란 사실을 증명했습니다. Context에 있는 <code class="inline-code-span">0 = 1</code>에 <code class="inline-code-span">discriminate</code> tactic을 사용해서 <code class="inline-code-span">0 = 1 -&gt; False</code>가 참임을 증명했습니다. 앞으로 Coq를 하면서 ≠는 아주 자주 쓰이므로 내장된 Notation이 아래와 같이 있습니다.</p><p><a id="operatornoteq"></a></p><pre class="fenced-code-block"><code><span class="code-fence-row"><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x &lt;&gt; y</span><span class="color-white">&quot;</span> <span class="color-white">=</span><span class="color-white"> (</span><span class="color-white">~</span><span class="color-white">(x </span><span class="color-white">=</span><span class="color-white"> y))</span><span class="color-white">.</span></span></span>
</code></pre><p>즉, <code class="inline-code-span">~(0 = 1)</code>과 <code class="inline-code-span">0 &lt;&gt; 1</code>은 동일한 표현입니다. <code class="inline-code-span">0 &lt;&gt; 1</code>을 <code class="inline-code-span">intros</code>할 경우 Coq는 context에 <code class="inline-code-span">0 = 1</code>을 추가하고 goal에 <code class="inline-code-span">False</code>만 남겨둡니다. <code class="inline-code-span">0</code>과 <code class="inline-code-span">1</code>은 다르므로 context에 <code class="inline-code-span">0 = 1</code>이 들어감으로써 명제가 거짓이 됐다고 이해하면 될 것 같습니다.</p><p>Coq의 참/거짓은 까다롭습니다. 좀 더 익숙해지기 위해서 더 많은 예시들을 살펴보겠습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> not_implies_our_not </span><span class="color-white">:</span><span class="color-white"> forall (</span><span class="color-gold">P</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">)</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-white">~</span><span class="color-gold">P</span> <span class="color-white">-&gt;</span><span class="color-white"> (forall (</span><span class="color-gold">Q</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">)</span><span class="color-white">,</span> <span class="color-gold">P</span> <span class="color-white">-&gt;</span> <span class="color-gold">Q</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  unfold not</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  intros </span><span class="color-gold">P</span><span class="color-white"> contra </span><span class="color-gold">Q</span> <span class="color-gold">P</span><span class="color-white">&apos;</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">  destruct contra</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-white">  apply </span><span class="color-gold">P</span><span class="color-white">&apos;</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(4)">Copy</button></pre><p>가정이 거짓이면 명제가 참임을 다시 증명했습니다. 어찌됐든 핵심 전략은 context에 있는 <code class="inline-code-span">False</code>에다가 <code class="inline-code-span">destruct</code> tactic을 사용하는 것입니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> not_true_is_false </span><span class="color-white">:</span><span class="color-white"> forall b </span><span class="color-white">:</span><span class="color-white"> bool</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  b </span><span class="color-white">&lt;&gt;</span><span class="color-white"> true </span><span class="color-white">-&gt;</span><span class="color-white"> b </span><span class="color-white">=</span><span class="color-white"> false</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  intros b </span><span class="color-gold">H</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  destruct b</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (*</span><span class="color-gray">{-</span><span class="color-gray"> b = true </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-white">    unfold not </span><span class="color-violet">in</span> <span class="color-gold">H</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-white">    apply ex_falso_quodlibet</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-white">    apply </span><span class="color-gold">H</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code"><span class="color-white">    reflexivity</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (*</span><span class="color-gray">{-</span><span class="color-gray"> b = false </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code"><span class="color-white">    reflexivity</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code"><span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(5)">Copy</button></pre><p><a href="#exfalsoquodlibet">아까</a> 증명한 <code class="inline-code-span">ex_falso_quodlibet</code>을 사용했습니다. exfalso를 사용하면 goal에 있는 거짓인 명제를 <code class="inline-code-span">False</code>로 바꿉니다. 9번 줄을 실행하면 <code class="inline-code-span">False</code>가 다시 <code class="inline-code-span">true = true</code>가 됩니다. <code class="inline-code-span">H: true = true -&gt; False</code>인데 <code class="inline-code-span">apply H</code>를 하면 왜 저렇게 되는지 모르겠네요.</p><p><a id="keywordexfalso"></a></p><p><code class="inline-code-span">ex_falso_quodlibet</code>은 아주 자주 쓰이기 때문에 내장 tactic이 정의돼 있습니다. <code class="inline-code-span">exfalso</code>라고 쓰면 되고요, 방금처럼 거짓인 goal을 <code class="inline-code-span">False</code>로 바꾸는 역할을 합니다.</p><h2 id="true">True</h2><p>Coq에는 <code class="inline-code-span">False</code> 뿐만 아니라 <code class="inline-code-span">True</code>도 정의돼 있습니다. <code class="inline-code-span">False</code>와 달리 <code class="inline-code-span">True</code>는 쓸데가 별로 없습니다. 참인게 자명한 명제는 추가로 주는 정보가 별로 없거든요. 책에서는 어떻게 사용했는지 아래의 예시를 보겠습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> disc_fn (n</span><span class="color-white">:</span><span class="color-white"> nat) </span><span class="color-white">:</span> <span class="color-gold">Prop</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match n with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span> <span class="color-gold">True</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> _ </span><span class="color-white">=&gt;</span> <span class="color-gold">False</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> disc_example </span><span class="color-white">:</span><span class="color-white"> forall n</span><span class="color-white">,</span> <span class="color-white">~</span><span class="color-white">(</span><span class="color-gold">O</span> <span class="color-white">=</span> <span class="color-gold">S</span><span class="color-white"> n)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code"><span class="color-white">  intros n </span><span class="color-gold">H1</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code"><span class="color-white">  assert (</span><span class="color-gold">H2</span> <span class="color-white">:</span><span class="color-white"> disc_fn </span><span class="color-gold">O</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code"><span class="color-white">    { simpl</span><span class="color-white">.</span><span class="color-white"> apply </span><span class="color-gold">I</span><span class="color-white">.</span><span class="color-white"> }
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code"><span class="color-white">  rewrite </span><span class="color-gold">H1</span> <span class="color-violet">in</span> <span class="color-gold">H2</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code"><span class="color-white">  simpl </span><span class="color-violet">in</span> <span class="color-gold">H2</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">15</span><span class="code-fence-code"><span class="color-white">  apply </span><span class="color-gold">H2</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">16</span><span class="code-fence-code"><span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(6)">Copy</button></pre><p>저희의 목표는 <code class="inline-code-span">O</code>와 <code class="inline-code-span">S n</code>이 다르단 걸 증명하는 것입니다. context에는 <code class="inline-code-span">H1: O = S n</code>이 들어가 있고 goal은 <code class="inline-code-span">False</code>입니다. <code class="inline-code-span">H1</code>이 거짓임을 밝혀서 전체 명제를 증명해보겠습니다.</p><p><a href="Chap5-2.html#keyworddiscriminate">이전</a>에 배웠던 <code class="inline-code-span">discriminate</code>를 사용하면 증명이 바로 끝나지만, 이번엔 좀 돌아가보겠습니다. <code class="inline-code-span">disc_fn</code>은 <code class="inline-code-span">O</code>가 들어오면 <code class="inline-code-span">True</code>이고 <code class="inline-code-span">S n</code>이 들어오면 <code class="inline-code-span">False</code>가 되는 명제입니다. 즉, <code class="inline-code-span">disc_fn O</code>는 참인 명제입니다. 근데 <code class="inline-code-span">H1: O = S n</code>이니 <code class="inline-code-span">disc_fn (S n)</code>도 참이겠네요? 그래서 context에 <code class="inline-code-span">H2: disc_fn (S n)</code>이 추가됐습니다. 하지만 <code class="inline-code-span">disc_fn</code>의 정의에 의해 <code class="inline-code-span">disc_fn (S n)</code>은 거짓이죠? context에 거짓인 명제가 들어왔으니 전체 명제도 거짓입니다. 이렇게 <code class="inline-code-span">O &lt;&gt; S n</code>을 증명했습니다.</p><h2 id="if-and-only-if">if and only if</h2><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> iff (</span><span class="color-gold">A</span> <span class="color-gold">B</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">) </span><span class="color-white">:=</span><span class="color-white"> (</span><span class="color-gold">A</span> <span class="color-white">-&gt;</span> <span class="color-gold">B</span><span class="color-white">) </span><span class="color-white">/\</span><span class="color-white"> (</span><span class="color-gold">B</span> <span class="color-white">-&gt;</span> <span class="color-gold">A</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">A &lt;-&gt; B</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (iff </span><span class="color-gold">A</span> <span class="color-gold">B</span><span class="color-white">) </span><span class="color-white">:</span><span class="color-white"> type_scope</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(7)">Copy</button></pre><p>이번에는 동치인 명제들을 살펴보겠습니다. <code class="inline-code-span">&lt;-&gt;</code>의 구현은 아주 직관적으로 돼 있습니다. <code class="inline-code-span">P -&gt; Q</code>와 <code class="inline-code-span">Q -&gt; P</code>가 동시에 성립하면 <code class="inline-code-span">P &lt;-&gt; Q</code>도 성립합니다. <code class="inline-code-span">iff</code>를 이용해서 간단한 증명을 아래에 해봤습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> iff_sym </span><span class="color-white">:</span><span class="color-white"> forall </span><span class="color-gold">P</span> <span class="color-gold">Q</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  (</span><span class="color-gold">P</span> <span class="color-white">&lt;-&gt;</span> <span class="color-gold">Q</span><span class="color-white">) </span><span class="color-white">-&gt;</span><span class="color-white"> (</span><span class="color-gold">Q</span> <span class="color-white">&lt;-&gt;</span> <span class="color-gold">P</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  intros </span><span class="color-gold">P</span> <span class="color-gold">Q</span><span class="color-white"> [</span><span class="color-gold">HPQ</span> <span class="color-gold">HQP</span><span class="color-white">]</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  split</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (* </span><span class="color-gold">Q</span> <span class="color-white">-&gt;</span> <span class="color-gold">P</span><span class="color-white"> *)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-white">    apply </span><span class="color-gold">HQP</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (* </span><span class="color-gold">P</span> <span class="color-white">-&gt;</span> <span class="color-gold">Q</span><span class="color-white"> *)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-white">    apply </span><span class="color-gold">HPQ</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(8)">Copy</button></pre><p><code class="inline-code-span">intros P Q H</code>를 한 다음에 <code class="inline-code-span">destruct H as [HPQ HQP]</code>를 할 수도 있지만, 간략하게 <code class="inline-code-span">intros [HPQ HQP]</code>를 했습니다. <code class="inline-code-span">iff</code>는 Coq 안에 내장돼있기 때문에 굳이 <code class="inline-code-span">unfold iff</code>를 하지 않아도 <code class="inline-code-span">apply</code> tactic을 사용할 수 있습니다.</p><h3 id="setoids">Setoids</h3><p>방금 말씀드렸듯이 <code class="inline-code-span">iff</code>는 Coq 안에 내장돼있기 때문에 <code class="inline-code-span">apply</code> tactic을 사용할 수 있습니다. 그것과 비슷하게 <code class="inline-code-span">rewrite</code>와 <code class="inline-code-span">reflexivity</code> tactic도 <code class="inline-code-span">iff</code>를 특별하게 취급합니다. 아래의 예시를 보겠습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">From</span> <span class="color-gold">Coq</span> <span class="color-gold">Require</span> <span class="color-gold">Import</span> <span class="color-gold">Setoids</span><span class="color-white">.</span><span class="color-gold">Setoid</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Lemma</span><span class="color-white"> mul_eq_0 </span><span class="color-white">:</span><span class="color-white"> forall n m</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  n * m </span><span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">&lt;-&gt;</span><span class="color-white"> n </span><span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">\/</span><span class="color-white"> m </span><span class="color-white">=</span> <span class="color-gold">0</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">(*</span><span class="color-gray">{-</span><span class="color-gray"> 증명 생략 </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> or_assoc </span><span class="color-white">:</span><span class="color-white"> forall </span><span class="color-gold">P</span> <span class="color-gold">Q</span> <span class="color-gold">R</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">  <span class="color-gold">P</span> <span class="color-white">\/</span><span class="color-white"> (</span><span class="color-gold">Q</span> <span class="color-white">\/</span> <span class="color-gold">R</span><span class="color-white">) </span><span class="color-white">&lt;-&gt;</span><span class="color-white"> (</span><span class="color-gold">P</span> <span class="color-white">\/</span> <span class="color-gold">Q</span><span class="color-white">) </span><span class="color-white">\/</span> <span class="color-gold">R</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code"><span class="color-white">(*</span><span class="color-gray">{-</span><span class="color-gray"> 증명 생략 </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code"><span class="color-gold">Lemma</span><span class="color-white"> mul_eq_0_ternary </span><span class="color-white">:</span><span class="color-white"> forall n m p</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code"><span class="color-white">  n * m * p </span><span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">&lt;-&gt;</span><span class="color-white"> n </span><span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">\/</span><span class="color-white"> m </span><span class="color-white">=</span> <span class="color-gold">0</span> <span class="color-white">\/</span><span class="color-white"> p </span><span class="color-white">=</span> <span class="color-gold">0</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">15</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">16</span><span class="code-fence-code"><span class="color-white">  intros n m p</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">17</span><span class="code-fence-code"><span class="color-white">  rewrite mul_eq_0</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">18</span><span class="code-fence-code"><span class="color-white">  rewrite mul_eq_0</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">19</span><span class="code-fence-code"><span class="color-white">  rewrite or_assoc</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">20</span><span class="code-fence-code"><span class="color-white">  reflexivity</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">21</span><span class="code-fence-code"><span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(9)">Copy</button></pre><p><code class="inline-code-span">rewrite</code> tactic을 이용해서 <code class="inline-code-span">mul_eq_0</code> 안에 있는 <code class="inline-code-span">&lt;-&gt;</code>도 펼칠 수 있습니다. 다만 <code class="inline-code-span">&lt;-&gt;</code>를 <code class="inline-code-span">rewrite</code>하기 위해서는 <code class="inline-code-span">Setoid</code>라는 라이브러리를 import해줘야합니다.</p><p>Setoid가 뭔지는... 저도 잘 모릅니다. 위키피디아의 설명을 첨부하겠습니다. (<a href="https://en.wikipedia.org/wiki/Setoid">전체 문서 읽기</a>)</p><blockquote>In mathematics, a setoid (<code class="inline-code-span">X</code>, <code class="inline-code-span">~</code>) is a set (or type) <code class="inline-code-span">X</code> equipped with an equivalence relation <code class="inline-code-span">~</code>. </blockquote><hr/><div class="align-center"><p><a href="index.html">메인으로 돌아가기</a></p></div><div class="align-left"><p>&lt;&lt; <a href="Chap6-1.html">Chap6-1. Conjunction and Disjunction</a></p></div><div class="align-right"><p><a href="Chap6-3.html">Chap6-3. Existential Quantification</a> &gt;&gt;</p></div><script>/*<![CDATA[*/
const fenced_code_block_contents = ["Inductive True : Prop :=\n  I : True.\n\nInductive False : Prop :=.\n\nDefinition not (A : Prop) := A -> False.\nNotation \"~ x\" := (not x) : type_scope.\n\nCheck True : Prop.\nCheck False : Prop.\nCheck not : Prop -> Prop.", "Theorem ex_falso_quodlibet : forall (P : Prop),\n  False -> P.\nProof.\n  intros P contra.\n  destruct contra.\n  Qed.", "Theorem zero_not_one : ~(0 = 1).\nProof.\n  unfold not.\n  intros contra.\n  discriminate contra.\n  Qed.", "", "Theorem not_implies_our_not : forall (P : Prop),\n  ~P -> (forall (Q : Prop), P -> Q).\nProof.\n  unfold not.\n  intros P contra Q P'.\n  destruct contra.\n  apply P'.\n  Qed.", "Theorem not_true_is_false : forall b : bool,\n  b <> true -> b = false.\nProof.\n  intros b H.\n  destruct b.\n  - (*{- b = true -}*)\n    unfold not in H.\n    apply ex_falso_quodlibet.\n    apply H.\n    reflexivity.\n  - (*{- b = false -}*)\n    reflexivity.\nQed.", "Definition disc_fn (n: nat) : Prop :=\n  match n with\n  | O => True\n  | S _ => False\n  end.\n\nTheorem disc_example : forall n, ~(O = S n).\n\nProof.\n  intros n H1.\n  assert (H2 : disc_fn O).\n    { simpl. apply I. }\n  rewrite H1 in H2.\n  simpl in H2.\n  apply H2.\nQed.", "Definition iff (A B : Prop) := (A -> B) /\\ (B -> A).\n\nNotation \"A <-> B\" := (iff A B) : type_scope.", "Theorem iff_sym : forall P Q : Prop,\n  (P <-> Q) -> (Q <-> P).\nProof.\n  intros P Q [HPQ HQP].\n  split.\n  - (* Q -> P *)\n    apply HQP.\n  - (* P -> Q *)\n    apply HPQ.\n  Qed.", "From Coq Require Import Setoids.Setoid.\n\nLemma mul_eq_0 : forall n m,\n  n * m = 0 <-> n = 0 \\/ m = 0.\n\n(*{- 증명 생략 -}*)\n\nTheorem or_assoc : forall P Q R : Prop,\n  P \\/ (Q \\/ R) <-> (P \\/ Q) \\/ R.\n\n(*{- 증명 생략 -}*)\n\nLemma mul_eq_0_ternary : forall n m p,\n  n * m * p = 0 <-> n = 0 \\/ m = 0 \\/ p = 0.\nProof.\n  intros n m p.\n  rewrite mul_eq_0.\n  rewrite mul_eq_0.\n  rewrite or_assoc.\n  reflexivity.\nQed."];

function copy_code_to_clipboard(index) {
    navigator.clipboard.writeText(fenced_code_block_contents[index]);
}/*]]>*/</script>