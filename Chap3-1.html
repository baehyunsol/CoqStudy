<table><thead id="table-collapse-toggle-0" class="collapsible collapsed" onclick ="collapse_table('0')"><tr><th> Table of Contents </th></tr></thead><tbody id="collapsible-table-0" class="invisible"><tr><td><div class="toc"><p>1. <a href="#pairs">Pairs</a></p></div></td></tr></tbody></table><h1 id="pairs">Pairs</h1><p>3장에서는 자료구조를 다룹니다. 여기서는 그 중 첫번째로 Pair를 다루겠습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Inductive</span><span class="color-white"> natprod </span><span class="color-white">:</span> <span class="color-gold">Type</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> pair (n1 n2 </span><span class="color-white">:</span><span class="color-white"> nat)</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(0)">Copy</button></pre><p>pair는 2원소짜리 tuple입니다. Pairs도 <code class="inline-code-span">Notation</code>을 사용하면 편리하게 사용할 수 있습니다. 아래의 예시를 보겠습니다.</p><p><a id="keywordnotation"></a></p><pre class="fenced-code-block"><code><span class="code-fence-row"><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">( x , y )</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (pair x y)</span><span class="color-white">.</span></span></span>
</code></pre><p>방금 정의한 notation 덕분에 더 편리하게 pairs method를 정의할 수 있습니다. 아래의 예시를 보겠습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> fst (p </span><span class="color-white">:</span><span class="color-white"> natprod) </span><span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match p with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (x</span><span class="color-white">,</span><span class="color-white"> y) </span><span class="color-white">=&gt;</span><span class="color-white"> x
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> snd (p </span><span class="color-white">:</span><span class="color-white"> natprod) </span><span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">  match p with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (x</span><span class="color-white">,</span><span class="color-white"> y) </span><span class="color-white">=&gt;</span><span class="color-white"> y
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> swap_pair (p </span><span class="color-white">:</span><span class="color-white"> natprod) </span><span class="color-white">:</span><span class="color-white"> natprod </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code"><span class="color-white">  match p with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (x</span><span class="color-white">,</span><span class="color-white"> y) </span><span class="color-white">=&gt;</span><span class="color-white"> (y</span><span class="color-white">,</span><span class="color-white"> x)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(2)">Copy</button></pre><div class="box"><p>방금 정의한 pair 문법과 <a href="Chap1-2.html#minus">이전</a>에 봤던 multiple pattern matching을 헷갈릴 수 있습니다. 잠깐 보고 가겠습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> minus (n m </span><span class="color-white">:</span><span class="color-white"> nat) </span><span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match n</span><span class="color-white">,</span><span class="color-white"> m with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">,</span><span class="color-white"> _ </span><span class="color-white">=&gt;</span> <span class="color-gold">O</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> _ </span><span class="color-white">,</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span><span class="color-white"> m
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> n&apos;</span><span class="color-white">,</span> <span class="color-gold">S</span><span class="color-white"> m&apos; </span><span class="color-white">=&gt;</span><span class="color-white"> minus n&apos; m&apos;
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(3)">Copy</button></pre><p>위와 같이 패턴 2개를 <code class="inline-code-span">,</code>로 붙일 수 있습니다. 이 경우 <code class="inline-code-span">match</code> 옆에도 값이 2개가 옵니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> minus (n m </span><span class="color-white">:</span><span class="color-white"> nat) </span><span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match (n</span><span class="color-white">,</span><span class="color-white"> m) with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (</span><span class="color-gold">O</span> <span class="color-white">,</span><span class="color-white"> _) </span><span class="color-white">=&gt;</span> <span class="color-gold">O</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (_ </span><span class="color-white">,</span> <span class="color-gold">O</span><span class="color-white">) </span><span class="color-white">=&gt;</span><span class="color-white"> m
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (</span><span class="color-gold">S</span><span class="color-white"> n&apos;</span><span class="color-white">,</span> <span class="color-gold">S</span><span class="color-white"> m&apos;) </span><span class="color-white">=&gt;</span><span class="color-white"> minus n&apos; m&apos;
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(4)">Copy</button></pre><p>위의 코드도 유효합니다. pair 안쪽도 pattern matching이 되는게 신기하네요.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> minus (n m </span><span class="color-white">:</span><span class="color-white"> nat) </span><span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match n</span><span class="color-white">,</span><span class="color-white"> m with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (</span><span class="color-gold">O</span> <span class="color-white">,</span><span class="color-white"> _) </span><span class="color-white">=&gt;</span> <span class="color-gold">O</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (_ </span><span class="color-white">,</span> <span class="color-gold">O</span><span class="color-white">) </span><span class="color-white">=&gt;</span><span class="color-white"> m
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> (</span><span class="color-gold">S</span><span class="color-white"> n&apos;</span><span class="color-white">,</span> <span class="color-gold">S</span><span class="color-white"> m&apos;) </span><span class="color-white">=&gt;</span><span class="color-white"> minus n&apos; m&apos;
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(5)">Copy</button></pre><p>위의 코드는 유효하지 않습니다. pattern matching을 2개를 한다고 선언했지만 각 가지에는 패턴이 하나씩밖에 없거든요. <code class="inline-code-span">(O, _)</code>는 하나의 패턴입니다.</p></div><hr/><div class="align-center"><p><a href="index.html">메인으로 돌아가기</a></p></div><div class="align-left"><p>&lt;&lt; <a href="Chap2-3.html">Chap2-3. Binary</a></p></div><div class="align-right"><p><a href="Chap3-2.html">Chap3-2. Lists</a> &gt;&gt;</p></div><script>/*<![CDATA[*/
const fenced_code_block_contents = ["Inductive natprod : Type :=\n  | pair (n1 n2 : nat).", "", "Definition fst (p : natprod) : nat :=\n  match p with\n  | (x, y) => x\n  end.\nDefinition snd (p : natprod) : nat :=\n  match p with\n  | (x, y) => y\n  end.\nDefinition swap_pair (p : natprod) : natprod :=\n  match p with\n  | (x, y) => (y, x)\n  end.", "Fixpoint minus (n m : nat) : nat :=\n  match n, m with\n  | O , _ => O\n  | _ , O => m\n  | S n', S m' => minus n' m'\n  end.", "Fixpoint minus (n m : nat) : nat :=\n  match (n, m) with\n  | (O , _) => O\n  | (_ , O) => m\n  | (S n', S m') => minus n' m'\n  end.", "Fixpoint minus (n m : nat) : nat :=\n  match n, m with\n  | (O , _) => O\n  | (_ , O) => m\n  | (S n', S m') => minus n' m'\n  end."];

function copy_code_to_clipboard(index) {
    navigator.clipboard.writeText(fenced_code_block_contents[index]);
}/*]]>*/</script>