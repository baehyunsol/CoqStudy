<!DOCTYPE html><html>

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    
    <title>Chap9-4</title>
    
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
    <!--<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" rel="stylesheet"/> -->
    
    <link href="page.css" rel="stylesheet"/><link href="markdown.css" rel="stylesheet"/><link href="nav.css" rel="stylesheet"/><link href="header.css" rel="stylesheet"/>
    
</head>

<body>


    <header>
<p><div class="topmenu deactivated"><a href="index.html">Home</a> <a href="index.html#index-by-chapter">단원별 목차</a> <a href="index.html#index-by-keyword">키워드 목차</a> <a href="Appendix.html">부록</a></div><div class="mobileview"><a id="navbutton">&#9776;</a></div></p>
    </header>



    <nav>
<p><a id="settingsopenbutton">&#9728;</a><a href="#top">&#9650;</a><a href="#bottom">&#9660;</a></p><div id="settingsmenubg"><p><div id="settingsmenu"> <a id="settingsclosebutton">&#10006;</a> <a id="changethemebutton">Set Light Theme</a> <a id="growhorizontalbutton">Grow Horizontally</a> <a id="shrinkhorizontalbutton">Shrink Horizontally</a> <a id="growfontbutton">Grow Font</a> <a id="shrinkfontbutton">Shrink Font</a> </div></p></div>
    </nav>


    <article class="markdown">
        <a id="top"></a>
<table><thead id="table-collapse-toggle-0" class="collapsible collapsed" onclick="collapse_table('0')"><tr><th>목차</th></tr></thead><tbody id="collapsible-table-0" class="invisible"><tr><td><div class="toc"><ol type="1"><li><a href="#inversion-again">Inversion, Again</a><ol type="1"><li><a href="#예시들">예시들</a><ol type="1"><li><a href="#예시-1-and">예시 1, <code class="inline-code-span">and</code></a></li><li><a href="#예시-2-or">예시 2, <code class="inline-code-span">or</code></a></li><li><a href="#예시-3-eq">예시 3, <code class="inline-code-span">eq</code></a></li><li><a href="#예시-4-ev">예시 4, <code class="inline-code-span">ev</code></a></li></ol></li><li><a href="#coqs-trusted-computing-base">Coq&apos;s Trusted Computing Base</a></li></ol></li></ol></div></td></tr></tbody></table><h1 id="inversion-again">Inversion, Again</h1><p><code class="inline-code-span">Inductive</code>와 관련된 내용을 조금 더 공부했으니 <code class="inline-code-span">inversion</code> tactic을 복습하겠습니다. context에 <code class="inline-code-span">H</code>라는 가설이 있고 <code class="inline-code-span">H</code>의 type은 <code class="inline-code-span">P</code>일 때, <code class="inline-code-span">inversion H</code>를 하면 아래와 같은 일들이 일어납니다.</p><ul><li><code class="inline-code-span">P</code>의 각각의 constructor를 <code class="inline-code-span">C</code>라고 할 때, 각 <code class="inline-code-span">C</code>에 대하여<ol type="1"><li><code class="inline-code-span">H</code>가 <code class="inline-code-span">C</code>로 construct 됐다고 가정하는 subgoal을 추가합니다.</li><li><code class="inline-code-span">C</code>가 참이 되기 위해서 필요한 인수들을 context에 추가합니다.</li><li><code class="inline-code-span">C</code>의 결과로 나올 type과 현재 goal을 비교해서 필요한 등식들을 context에 추가합니다.</li><li>만약 <code class="inline-code-span">C</code>가 참이 되는게 불가능하다고 판단될 경우 (ex: <code class="inline-code-span">S n = 0</code>같은게 context에 추가될 경우), 그 subgoal을 없애버립니다.</li></ol></li></ul><p>아래의 예시들에서 1~4번 단계를 언급할텐데 그건 전부 위의 목록에 있는 단계들입니다.</p><h2 id="예시들">예시들</h2><p>저렇게만 보면 조금 추상적이니 예시들과 함께 설명하겠습니다.</p><h3 id="예시-1-and">예시 1, <code class="inline-code-span">and</code></h3><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> and_t </span><span class="color-white">:</span><span class="color-white"> forall </span><span class="color-gold">P</span> <span class="color-gold">Q</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">,</span> <span class="color-gold">P</span> <span class="color-white">/\</span> <span class="color-gold">Q</span> <span class="color-white">-&gt;</span> <span class="color-gold">P</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  intros </span><span class="color-gold">P</span> <span class="color-gold">Q</span> <span class="color-gold">H</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  inversion </span><span class="color-gold">H</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">  apply </span><span class="color-gold">H0</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(0)">Copy</button></pre><p>증명을 다 볼 필요는 없고, <code class="inline-code-span">inversion</code>이 하는 일만 보겠습니다. <code class="inline-code-span">and</code>의 정의가 기억이 안 나면 <a href="Chap9-2.html#conjunction">여기</a>를 참고해주세요.</p><p><code class="inline-code-span">and</code>의 constructor는 <code class="inline-code-span">conj</code> 하나밖에 없습니다. 그래서 Coq는 <code class="inline-code-span">P /\ Q</code>가 <code class="inline-code-span">conj P Q</code>로 됐다고 가정합니다. <code class="inline-code-span">conj P Q</code>가 되기 위해선 <code class="inline-code-span">P</code>와 <code class="inline-code-span">Q</code>가 필요하니 2번 단계에서 context에 <code class="inline-code-span">P</code>와 <code class="inline-code-span">Q</code>를 추가합니다. <code class="inline-code-span">and</code>의 결과는 <code class="inline-code-span">P</code>와 <code class="inline-code-span">Q</code>에 추가적인 제약을 가하지 않으므로 3번 단계에선 추가적인 등식이 생성되지 않습니다.</p><h3 id="예시-2-or">예시 2, <code class="inline-code-span">or</code></h3><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> or_t </span><span class="color-white">:</span><span class="color-white"> forall </span><span class="color-gold">P</span> <span class="color-gold">Q</span> <span class="color-white">:</span> <span class="color-gold">Prop</span><span class="color-white">,</span> <span class="color-gold">P</span> <span class="color-white">\/</span> <span class="color-gold">Q</span> <span class="color-white">-&gt;</span> <span class="color-gold">Q</span> <span class="color-white">\/</span> <span class="color-gold">P</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-white">  intros </span><span class="color-gold">P</span> <span class="color-gold">Q</span> <span class="color-gold">H</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  inversion </span><span class="color-gold">H</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (*</span><span class="color-gray">{-</span><span class="color-gray"> H0: P </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">    right</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-white">    apply </span><span class="color-gold">H0</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (*</span><span class="color-gray">{-</span><span class="color-gray"> H0: Q </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-white">    left</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code"><span class="color-white">    apply </span><span class="color-gold">H0</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(1)">Copy</button></pre><p><code class="inline-code-span">or</code>의 정의가 기억이 안 나면 <a href="Chap9-2.html#disjunction">여기</a>를 참고해주세요. <code class="inline-code-span">or</code>의 constructor는 <code class="inline-code-span">or_introl P</code>와 <code class="inline-code-span">or_intror Q</code>의 2개가 있습니다. 그래서 1번 단계에서 subgoal이 2개가 나옵니다. 첫번째 subgoal은 <code class="inline-code-span">or_introl P</code>가 참이라고 가정했으므로 context에 <code class="inline-code-span">H0: P</code>가 추가되고 두번째 subgoal은 <code class="inline-code-span">or_intror Q</code>가 참이라고 가정했으므로 context에 <code class="inline-code-span">H0: Q</code>가 추가됩니다. 이번에도 마찬가지로 3번 단계에서 추가적인 등식이 생성되지는 않습니다.</p><h3 id="예시-3-eq">예시 3, <code class="inline-code-span">eq</code></h3><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> eq_t </span><span class="color-white">:</span><span class="color-white"> forall m n </span><span class="color-white">:</span><span class="color-white"> nat</span><span class="color-white">,</span> <span class="color-gold">S</span><span class="color-white"> m </span><span class="color-white">=</span> <span class="color-gold">S</span><span class="color-white"> n </span><span class="color-white">-&gt;</span><span class="color-white"> m </span><span class="color-white">=</span><span class="color-white"> n</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-white">  intros m n </span><span class="color-gold">H</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  inversion </span><span class="color-gold">H</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  reflexivity</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(2)">Copy</button></pre><p><code class="inline-code-span">eq</code>의 정의가 기억이 안 나면 <a href="Chap9-3.html#equality">여기</a>를 참고해주세요. <code class="inline-code-span">eq</code>의 constructor는 <code class="inline-code-span">eq_refl</code> 하나 뿐이므로 1번 단계에서 subgoal은 하나만 생성됩니다. 하지만 <code class="inline-code-span">eq_refl</code>의 결과를 보면 <code class="inline-code-span">m = n</code>이라는 추가적인 정보를 알 수 있으므로 3번 단계에서 <code class="inline-code-span">H1: m = n</code>이 context에 추가됩니다. 물론 이건 너무 급하게 만든 예제라 <code class="inline-code-span">H1</code>을 사용하지 않고 증명했습니다.</p><h3 id="예시-4-ev">예시 4, <code class="inline-code-span">ev</code></h3><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> evSS_ev </span><span class="color-white">:</span><span class="color-white"> forall n</span><span class="color-white">,</span><span class="color-white"> ev (</span><span class="color-gold">S</span><span class="color-white"> (</span><span class="color-gold">S</span><span class="color-white"> n)) </span><span class="color-white">-&gt;</span><span class="color-white"> ev n</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-white">  intros n </span><span class="color-gold">E</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  inversion </span><span class="color-gold">E</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  apply </span><span class="color-gold">H0</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(3)">Copy</button></pre><p><code class="inline-code-span">ev</code>의 정의가 기억이 안 나면 <a href="Chap7-2.html">여기</a>를 참고해주세요. <code class="inline-code-span">ev</code>의 constructor는 <code class="inline-code-span">ev_0</code>와 <code class="inline-code-span">ev_SS</code>로 2개입니다. <code class="inline-code-span">ev_0</code>가 참일 경우 context에 <code class="inline-code-span">0 = S (S n)</code>이 추가돼야 하는데, 이는 말이 안되므로 <code class="inline-code-span">ev_0</code>는 4번 단계에서 버려집니다. 그리고 <code class="inline-code-span">ev_SS</code>가 참이므로 <code class="inline-code-span">ev_SS</code>의 인수들이 2번 단계에서 context에 추가됩니다. 그 인수들은 <code class="inline-code-span">n0: nat</code>과 <code class="inline-code-span">H0: ev n</code>입니다.</p><div class="box"><h2 id="coqs-trusted-computing-base">Coq&apos;s Trusted Computing Base</h2><p>Coq으로 다른 명제/프로그램에 결점이 없다는 건 증명할 수 있지만 Coq 자체를 검증할 순 없습니다. 그럼 Coq이 결점이 없다는 건 어떻게 증명할까요?? 못합니다.</p><p>그대신 Coq은 아주 작은 토대만 손으로 증명을 하고, 나머지 부분들은 그 토대를 이용해서 정의해놨습니다. 그래서 Coq은 믿을 수 있습니다. 그 토대를 쌓아가는 부분이 우리가 이번 단원에서 봤던 Curry-Howard correspondance입니다. 증거와 증명들을 type과 값들처럼 다루기 때문에 Coq 자체가 무결하다는 것도 type-checker를 이용해서 검증이 가능합니다. Type-checker 자체는 상대적으로 간단하고 단순하기 때문에 쉽게 믿을 수 있습니다.</p></div><hr/><div class="align-center"><p><a href="index.html">메인으로 돌아가기</a></p></div><div class="align-left"><p>&lt;&lt; <a href="Chap9-3.html">Chap9-3. More Inductives</a></p></div><div class="align-right"><p><a href="Chap10-1.html">Chap10-1. Induction Principles</a> &gt;&gt;</p></div><script>/*<![CDATA[*/
const fenced_code_block_contents = ["Theorem and_t : forall P Q : Prop, P /\\ Q -> P.\n\nProof.\n  intros P Q H.\n  inversion H.\n  apply H0.\n  Qed.", "Theorem or_t : forall P Q : Prop, P \\/ Q -> Q \\/ P.\nProof.\n  intros P Q H.\n  inversion H.\n  - (*{- H0: P -}*)\n    right.\n    apply H0.\n  - (*{- H0: Q -}*)\n    left.\n    apply H0.\n  Qed.", "Theorem eq_t : forall m n : nat, S m = S n -> m = n.\nProof.\n  intros m n H.\n  inversion H.\n  reflexivity.\n  Qed.", "Theorem evSS_ev : forall n, ev (S (S n)) -> ev n.\nProof.\n  intros n E.\n  inversion E.\n  apply H0.\n  Qed."];

function copy_code_to_clipboard(index) {
    navigator.clipboard.writeText(fenced_code_block_contents[index]);
}/*]]>*/</script>
        <a id="bottom"></a>
    </article>




    <footer class="markdown">
<p><br/></p><p><br/></p><hr/><div class="align-center"><p>2021 ~ 2023 &copy; Baehyunsol</p></div>
    </footer>


    <script src="colors.js"></script>

    
    <script src="nav.js"></script>
    
    
    
    <script src="header.js"></script>
    
<script src="collapsible_tables.js"></script></body>

</html>