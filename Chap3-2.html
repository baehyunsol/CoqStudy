<!DOCTYPE html><html>

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    
    <title>Chap3-2</title>
    
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
    <!--<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" rel="stylesheet"/> -->
    
    <link href="page.css" rel="stylesheet"/><link href="markdown.css" rel="stylesheet"/><link href="nav.css" rel="stylesheet"/><link href="header.css" rel="stylesheet"/>
    
</head>

<body>


    <header>
<p><div class="topmenu deactivated"><a href="index.html">Home</a> <a href="index.html#index-by-chapter">단원별 목차</a> <a href="index.html#index-by-keyword">키워드 목차</a> <a href="Appendix.html">부록</a></div><div class="mobileview"><a id="navbutton">&#9776;</a></div></p>
    </header>



    <nav>
<p><a id="settingsopenbutton">&#9728;</a><a href="#top">&#9650;</a><a href="#bottom">&#9660;</a></p><div id="settingsmenubg"><p><div id="settingsmenu"> <a id="settingsclosebutton">&#10006;</a> <a id="changethemebutton">Set Light Theme</a> <a id="growhorizontalbutton">Grow Horizontally</a> <a id="shrinkhorizontalbutton">Shrink Horizontally</a> <a id="growfontbutton">Grow Font</a> <a id="shrinkfontbutton">Shrink Font</a> </div></p></div>
    </nav>


    <article class="markdown">
        <a id="top"></a>
<table><thead id="table-collapse-toggle-0" class="collapsible collapsed" onclick="collapse_table('0')"><tr><th>목차</th></tr></thead><tbody id="collapsible-table-0" class="invisible"><tr><td><div class="toc"><ol type="1"><li><a href="#lists">Lists</a><ol type="1"><li><a href="#implementation">Implementation</a><ol type="1"><li><a href="#repeat">Repeat</a></li><li><a href="#length">Length</a></li><li><a href="#get">Get</a></li><li><a href="#append">Append</a></li><li><a href="#reverse">Reverse</a></li><li><a href="#head-and-tail">head and tail</a></li><li><a href="#nonzeros">nonzeros</a></li><li><a href="#count_odd_numbers">count_odd_numbers</a></li><li><a href="#alternate">alternate</a></li></ol></li><li><a href="#reasonings">Reasonings</a></li></ol></li></ol></div></td></tr></tbody></table><h1 id="lists">Lists</h1><p>두번째 자료구조로 List에 대해서 알아보겠습니다. List의 구현은 Haskell 혹은 다른 순수함수형 언어의 list와 아주 비슷합니다. 아래의 정의를 보겠습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Inductive</span><span class="color-white"> natlist </span><span class="color-white">:</span> <span class="color-gold">Type</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> cons (n </span><span class="color-white">:</span><span class="color-white"> nat) (l </span><span class="color-white">:</span><span class="color-white"> natlist)</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(0)">Copy</button></pre><p><code class="inline-code-span">natlist</code>라는 자연수의 list를 정의하였습니다. Generic하게 정의할 수도 있습니다. 그 방법은 <a href="Chap4-1.html">나중</a>에 알아보겠습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x :: l</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (cons x l)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">                     (at level </span><span class="color-gold">60</span><span class="color-white">,</span><span class="color-white"> right associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">[ ]</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> nil</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">[ x ; .. ; y ]</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (cons x </span><span class="color-white">..</span><span class="color-white"> (cons y nil) </span><span class="color-white">..</span><span class="color-white">)</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(1)">Copy</button></pre><p>Notation도 몇가지 정의했습니다. <code class="inline-code-span">::</code>는 Haskell에서 보던 <code class="inline-code-span">:</code>과 동일하며, list literal은 <code class="inline-code-span">[x;..;y]</code><span class="footnote-ref" id="footnote-ref-0"><a href="#footnote-cite-0">[0]</a></span>로 정의했습니다.</p><h2 id="implementation">Implementation</h2><p>간단한 함수 몇가지를 정의해보겠습니다.</p><h3 id="repeat">Repeat</h3><p><a id="definitionrepeat"></a></p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> repeat (n count </span><span class="color-white">:</span><span class="color-white"> nat) </span><span class="color-white">:</span><span class="color-white"> natlist </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match count with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span><span class="color-white"> nil
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> count&apos; </span><span class="color-white">=&gt;</span><span class="color-white"> n </span><span class="color-white">::</span><span class="color-white"> (repeat n count&apos;)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(2)">Copy</button></pre><p>자연수 <code class="inline-code-span">n</code>가 <code class="inline-code-span">count</code>번만큼 반복되는 <code class="inline-code-span">natlist</code>를 반환하는 함수입니다.</p><h3 id="length">Length</h3><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> length (l </span><span class="color-white">:</span><span class="color-white"> natlist) </span><span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span> <span class="color-gold">O</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span> <span class="color-gold">S</span><span class="color-white"> (length t)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(3)">Copy</button></pre><p>주어진 list의 길이를 반환합니다.</p><h3 id="get">Get</h3><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> get (l</span><span class="color-white">:</span><span class="color-white"> natlist) (idx</span><span class="color-white">:</span><span class="color-white"> nat) </span><span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match idx with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span><span class="color-white"> match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">    <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span> <span class="color-gold">O</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">    <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> h
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">    end
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">  <span class="color-white">|</span> <span class="color-gold">S</span><span class="color-white"> n&apos; </span><span class="color-white">=&gt;</span><span class="color-white"> match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">    <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span> <span class="color-gold">O</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">    <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> get t n&apos;
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code"><span class="color-white">    end
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(4)">Copy</button></pre><p>주어진 list의 <code class="inline-code-span">n</code>번째 원소를 찾는 함수입니다. 책에는 없고 제가 짜본 함수입니다. Index error를 나타낼 방법이 없어서 index error가 나면 <code class="inline-code-span">O</code>를 반환하도록 했습니다. Index error와 관련된 부분은 <a href="Chap3-3.html">다음 장</a>에서 다루겠습니다.</p><h3 id="append">Append</h3><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> append (l1 l2 </span><span class="color-white">:</span><span class="color-white"> natlist) </span><span class="color-white">:</span><span class="color-white"> natlist </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match l1 with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span><span class="color-white"> l2
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> (append t l2)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x ++ y</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (append x y)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-white">                     (right associativity</span><span class="color-white">,</span><span class="color-white"> at level </span><span class="color-gold">60</span><span class="color-white">)</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(5)">Copy</button></pre><p>두 list를 합치는 함수입니다. 연산자도 정의했습니다.</p><h3 id="reverse">Reverse</h3><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> rev (l </span><span class="color-white">:</span><span class="color-white"> natlist) </span><span class="color-white">:</span><span class="color-white"> natlist </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span><span class="color-white"> nil
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> rev t </span><span class="color-white">++</span><span class="color-white"> [h]
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(6)">Copy</button></pre><p>list를 뒤집는 함수입니다.</p><h3 id="head-and-tail">head and tail</h3><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> head (</span><span class="color-violet">default</span> <span class="color-white">:</span><span class="color-white"> nat) (l </span><span class="color-white">:</span><span class="color-white"> natlist) </span><span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span> <span class="color-violet">default</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> h
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> tail (l </span><span class="color-white">:</span><span class="color-white"> natlist) </span><span class="color-white">:</span><span class="color-white"> natlist </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-white">  match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span><span class="color-white"> nil
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> t
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(7)">Copy</button></pre><p>head와 tail도 만들었습니다. 특이한 점은, <code class="inline-code-span">nil</code>의 head를 구할 경우를 대비하기 위해 <code class="inline-code-span">default</code>란 인수가 있습니다.</p><h3 id="nonzeros">nonzeros</h3><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> nonzeros (l </span><span class="color-white">:</span><span class="color-white"> natlist) </span><span class="color-white">:</span><span class="color-white"> natlist </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span><span class="color-white"> nil
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> match h with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">    <span class="color-white">|</span> <span class="color-gold">O</span> <span class="color-white">=&gt;</span><span class="color-white"> nonzeros t
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">    <span class="color-white">|</span><span class="color-white"> h&apos; </span><span class="color-white">=&gt;</span><span class="color-white"> h&apos; </span><span class="color-white">::</span><span class="color-white"> nonzeros t
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-white">    end
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(8)">Copy</button></pre><p>list를 받아서 0이 아닌 값들만 남기는 함수입니다. 빨리 filter함수를 배워서 쓰고 싶네요.</p><h3 id="count_odd_numbers">count_odd_numbers</h3><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> count_odd_members (l </span><span class="color-white">:</span><span class="color-white"> natlist) </span><span class="color-white">:</span><span class="color-white"> nat </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match l with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span> <span class="color-gold">O</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span> <span class="color-violet">if</span><span class="color-white"> is_odd h
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">    <span class="color-violet">then</span> <span class="color-gold">S</span><span class="color-white"> (count_odd_members t)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">    <span class="color-violet">else</span><span class="color-white"> count_odd_members t
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(9)">Copy</button></pre><p>책에서는 <code class="inline-code-span">Fixpoint</code>가 아닌 <code class="inline-code-span">Definition</code>을 이용해서 정의하도록 시켰습니다. <code class="inline-code-span">odd_members</code><span class="footnote-ref" id="footnote-ref-1"><a href="#footnote-cite-1">[1]</a></span>라는 함수를 만들고 <a href="#length">위</a>에서 정의한 <code class="inline-code-span">length</code>와 묶어서 쓰라는 의도인 거 같은데, 저는 이 방법이 좀 더 마음에 드네요.</p><h3 id="alternate">alternate</h3><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Fixpoint</span><span class="color-white"> alternate (l1 l2 </span><span class="color-white">:</span><span class="color-white"> natlist) </span><span class="color-white">:</span><span class="color-white"> natlist </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  match l1</span><span class="color-white">,</span><span class="color-white"> l2 with
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t</span><span class="color-white">,</span><span class="color-white"> _ </span><span class="color-white">=&gt;</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> (alternate l2 t)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil</span><span class="color-white">,</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> t </span><span class="color-white">=&gt;</span><span class="color-white"> h </span><span class="color-white">::</span><span class="color-white"> (alternate t l1)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-white">|</span><span class="color-white"> nil</span><span class="color-white">,</span><span class="color-white"> nil </span><span class="color-white">=&gt;</span><span class="color-white"> nil
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-white">  end</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(10)">Copy</button></pre><h2 id="reasonings">Reasonings</h2><p>list를 이용해서 theorem들을 만들고 증명해보겠습니다.</p><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Theorem</span><span class="color-white"> app_assoc </span><span class="color-white">:</span><span class="color-white"> forall l1 l2 l3 </span><span class="color-white">:</span><span class="color-white"> natlist</span><span class="color-white">,</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  (l1 </span><span class="color-white">++</span><span class="color-white"> l2) </span><span class="color-white">++</span><span class="color-white"> l3 </span><span class="color-white">=</span><span class="color-white"> l1 </span><span class="color-white">++</span><span class="color-white"> (l2 </span><span class="color-white">++</span><span class="color-white"> l3)</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(11)">Copy</button></pre><p>먼저, 수학적 귀납법을 이용해서 <code class="inline-code-span">append</code>의 결합법칙을 증명해보겠습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Proof</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-white">  intros l1 l2 l3</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-white">  induction l1 as [ </span><span class="color-white">|</span><span class="color-white"> n l1&apos; </span><span class="color-gold">IHl1</span><span class="color-white">&apos;]</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (*</span><span class="color-gray">{-</span><span class="color-gray"> l1 = [] </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code"><span class="color-white">    reflexivity</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-white">-</span><span class="color-white"> (*</span><span class="color-gray">{-</span><span class="color-gray"> l1 = n :: l1&apos; </span><span class="color-gray">-}</span><span class="color-white">*)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-white">    simpl</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-white">    rewrite </span><span class="color-gold">IHl1</span><span class="color-white">&apos;</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code"><span class="color-white">    reflexivity</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">  <span class="color-gold">Qed</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(12)">Copy</button></pre><p>자연수에 귀납법을 쓰던 것과 매우 비슷합니다. <code class="inline-code-span">l1</code>이 <code class="inline-code-span">nil</code>인 경우와 <code class="inline-code-span">n :: l1&apos;</code>인 경우로 나눕니다.</p><p><code class="inline-code-span">nil</code>인 경우, <code class="inline-code-span">nil ++ l2</code>는 아주 간단한 형태로 정리가 되므로 <code class="inline-code-span">reflexivity</code> 한 번으로 증명이 끝납니다.</p><p><code class="inline-code-span">l1 = n :: l1&apos;</code>인 경우, 방금 <code class="inline-code-span">IHl1&apos;: (l1&apos; ++ l2) ++ l3 = l1&apos; ++ l2 ++ l3</code>를 증명했으므로 저 형태로 만들기만 하면 증명이 끝납니다.</p><p>쉽죠?</p><hr/><div class="align-center"><p><a href="index.html">메인으로 돌아가기</a></p></div><div class="align-left"><p>&lt;&lt; <a href="Chap3-1.html">Chap3-1. Pairs</a></p></div><div class="align-right"><p><a href="Chap3-3.html">Chap3-3. Options</a> &gt;&gt;</p></div><hr class="footnote-hr"/><div class="mdxt-footnote-cites"><p><div class="footnote-cite"><a id="footnote-cite-0"></a><a href="#footnote-ref-0"> [0]</a> 이렇게 정의해도 <code class="inline-code-span">[1; 2; 3; 4]</code>같은 문법을 알아듣는다는게 신기하네요.</div><div class="footnote-cite"><a id="footnote-cite-1"></a><a href="#footnote-ref-1"> [1]</a> 주어진 list에서 홀수들만 남기는 함수입니다. Python으로 쓰면 <code class="inline-code-span">[n for n in l if n % 2 == 1]</code> 정도가 되겠군요.</div></p></div><script>/*<![CDATA[*/
const fenced_code_block_contents = ["Inductive natlist : Type :=\n  | nil\n  | cons (n : nat) (l : natlist).", "Notation \"x :: l\" := (cons x l)\n                     (at level 60, right associativity).\nNotation \"[ ]\" := nil.\nNotation \"[ x ; .. ; y ]\" := (cons x .. (cons y nil) ..).", "Fixpoint repeat (n count : nat) : natlist :=\n  match count with\n  | O => nil\n  | S count' => n :: (repeat n count')\n  end.", "Fixpoint length (l : natlist) : nat :=\n  match l with\n  | nil => O\n  | h :: t => S (length t)\n  end.", "Fixpoint get (l: natlist) (idx: nat) : nat :=\n  match idx with\n  | O => match l with\n    | nil => O\n    | h :: t => h\n    end\n  | S n' => match l with\n    | nil => O\n    | h :: t => get t n'\n    end\n  end.", "Fixpoint append (l1 l2 : natlist) : natlist :=\n  match l1 with\n  | nil => l2\n  | h :: t => h :: (append t l2)\n  end.\n\nNotation \"x ++ y\" := (append x y)\n                     (right associativity, at level 60).", "Fixpoint rev (l : natlist) : natlist :=\n  match l with\n  | nil => nil\n  | h :: t => rev t ++ [h]\n  end.", "Definition head (default : nat) (l : natlist) : nat :=\n  match l with\n  | nil => default\n  | h :: t => h\n  end.\nDefinition tail (l : natlist) : natlist :=\n  match l with\n  | nil => nil\n  | h :: t => t\n  end.", "Fixpoint nonzeros (l : natlist) : natlist :=\n  match l with\n  | nil => nil\n  | h :: t => match h with\n    | O => nonzeros t\n    | h' => h' :: nonzeros t\n    end\n  end.", "Fixpoint count_odd_members (l : natlist) : nat :=\n  match l with\n  | nil => O\n  | h :: t => if is_odd h\n    then S (count_odd_members t)\n    else count_odd_members t\n  end.", "Fixpoint alternate (l1 l2 : natlist) : natlist :=\n  match l1, l2 with\n  | h :: t, _ => h :: (alternate l2 t)\n  | nil, h :: t => h :: (alternate t l1)\n  | nil, nil => nil\n  end.", "Theorem app_assoc : forall l1 l2 l3 : natlist,\n  (l1 ++ l2) ++ l3 = l1 ++ (l2 ++ l3).", "Proof.\n  intros l1 l2 l3.\n  induction l1 as [ | n l1' IHl1'].\n  - (*{- l1 = [] -}*)\n    reflexivity.\n  - (*{- l1 = n :: l1' -}*)\n    simpl.\n    rewrite IHl1'.\n    reflexivity.\n  Qed."];

function copy_code_to_clipboard(index) {
    navigator.clipboard.writeText(fenced_code_block_contents[index]);
}/*]]>*/</script>
        <a id="bottom"></a>
    </article>




    <footer class="markdown">
<p><br/></p><p><br/></p><hr/><div class="align-center"><p>2021 ~ 2023 &copy; Baehyunsol</p></div>
    </footer>


    <script src="colors.js"></script>

    
    <script src="nav.js"></script>
    
    
    
    <script src="header.js"></script>
    
<script src="collapsible_tables.js"></script></body>

</html>