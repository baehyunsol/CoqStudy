<!DOCTYPE html><html>

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    
    <title>Chap8-2</title>
    
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
    <!--<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" rel="stylesheet"/> -->
    
    <link href="page.css" rel="stylesheet"/><link href="markdown.css" rel="stylesheet"/><link href="nav.css" rel="stylesheet"/><link href="header.css" rel="stylesheet"/>
    
</head>

<body>


    <header>
<p><div class="topmenu deactivated"><a href="index.html">Home</a> <a href="index.html#index-by-chapter">단원별 목차</a> <a href="index.html#index-by-keyword">키워드 목차</a> <a href="Appendix.html">부록</a></div><div class="mobileview"><a id="navbutton">&#9776;</a></div></p>
    </header>



    <nav>
<p><a id="settingsopenbutton">&#9728;</a><a href="#top">&#9650;</a><a href="#bottom">&#9660;</a></p><div id="settingsmenubg"><p><div id="settingsmenu"> <a id="settingsclosebutton">&#10006;</a> <a id="changethemebutton">Set Light Theme</a> <a id="growhorizontalbutton">Grow Horizontally</a> <a id="shrinkhorizontalbutton">Shrink Horizontally</a> <a id="growfontbutton">Grow Font</a> <a id="shrinkfontbutton">Shrink Font</a> </div></p></div>
    </nav>


    <article class="markdown">
        <a id="top"></a>
<table><thead id="table-collapse-toggle-0" class="collapsible collapsed" onclick="collapse_table('0')"><tr><th>목차</th></tr></thead><tbody id="collapsible-table-0" class="invisible"><tr><td><div class="toc"><p>1. <a href="#partial-maps">Partial Maps</a></p></div></td></tr></tbody></table><h1 id="partial-maps">Partial Maps</h1><p>이젠 <code class="inline-code-span">partial_map</code>을 구현해보겠습니다. <code class="inline-code-span">total_map</code>은 없는 키를 주면 기본 값을 반환했지만 <code class="inline-code-span">partial_map</code>은 <code class="inline-code-span">None</code>을 반환합니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> partial_map (</span><span class="color-gold">A</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">) </span><span class="color-white">:=</span><span class="color-white"> total_map (option </span><span class="color-gold">A</span><span class="color-white">)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> empty {</span><span class="color-gold">A</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">} </span><span class="color-white">:</span><span class="color-white"> partial_map </span><span class="color-gold">A</span> <span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code"><span class="color-white">  t_empty </span><span class="color-gold">None</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code"><span class="color-gold">Definition</span><span class="color-white"> update {</span><span class="color-gold">A</span> <span class="color-white">:</span> <span class="color-gold">Type</span><span class="color-white">} (m </span><span class="color-white">:</span><span class="color-white"> partial_map </span><span class="color-gold">A</span><span class="color-white">)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code"><span class="color-white">           (x </span><span class="color-white">:</span><span class="color-white"> string) (v </span><span class="color-white">:</span> <span class="color-gold">A</span><span class="color-white">) </span><span class="color-white">:=</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code"><span class="color-white">  (x </span><span class="color-white">!-&gt;</span> <span class="color-gold">Some</span><span class="color-white"> v ; m)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x &apos;|-&gt;&apos; v &apos;;&apos; m</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (update m x v)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code"><span class="color-white">  (at level </span><span class="color-gold">100</span><span class="color-white">,</span><span class="color-white"> v at next level</span><span class="color-white">,</span><span class="color-white"> right associativity)</span><span class="color-white">.</span>
</span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">
</span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code"><span class="color-gold">Notation</span> <span class="color-white">&quot;</span><span class="color-green">x &apos;|-&gt;&apos; v</span><span class="color-white">&quot;</span> <span class="color-white">:=</span><span class="color-white"> (update empty x v)
</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code"><span class="color-white">  (at level </span><span class="color-gold">100</span><span class="color-white">)</span><span class="color-white">.</span></span></span>
</code><button class="copy-fenced-code" onclick="copy_code_to_clipboard(0)">Copy</button></pre><p>구현은 아주 간단합니다. <code class="inline-code-span">total_map</code>에 기본값을 <code class="inline-code-span">None</code>으로 주면 되거든요.</p><hr/><div class="align-center"><p><a href="index.html">메인으로 돌아가기</a></p></div><div class="align-left"><p>&lt;&lt; <a href="Chap8-1.html">Chap8-1. Total Maps</a></p></div><div class="align-right"><p><a href="Chap9-1.html">Chap9-1. Curry Howard Correspondence</a> &gt;&gt;</p></div><script>/*<![CDATA[*/
const fenced_code_block_contents = ["Definition partial_map (A : Type) := total_map (option A).\n\nDefinition empty {A : Type} : partial_map A :=\n  t_empty None.\n\nDefinition update {A : Type} (m : partial_map A)\n           (x : string) (v : A) :=\n  (x !-> Some v ; m).\n\nNotation \"x '|->' v ';' m\" := (update m x v)\n  (at level 100, v at next level, right associativity).\n\nNotation \"x '|->' v\" := (update empty x v)\n  (at level 100)."];

function copy_code_to_clipboard(index) {
    navigator.clipboard.writeText(fenced_code_block_contents[index]);
}/*]]>*/</script>
        <a id="bottom"></a>
    </article>




    <footer class="markdown">
<p><br/></p><p><br/></p><hr/><div class="align-center"><p>2021 ~ 2023 &copy; Baehyunsol</p></div>
    </footer>


    <script src="colors.js"></script>

    
    <script src="nav.js"></script>
    
    
    
    <script src="header.js"></script>
    
<script src="collapsible_tables.js"></script></body>

</html>