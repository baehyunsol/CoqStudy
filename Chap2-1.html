<!DOCTYPE html><html>

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    
    <title>Chap2-1</title>
    
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
    <!--<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;display=swap" rel="stylesheet"/> -->
    
    <link href="page.css" rel="stylesheet"/><link href="markdown.css" rel="stylesheet"/><link href="nav.css" rel="stylesheet"/><link href="header.css" rel="stylesheet"/>
    
</head>

<body>


    <header>
<p><div class="topmenu deactivated"><a href="index.html">Home</a> <a href="index.html#index-by-chapter">단원별 목차</a> <a href="index.html#index-by-keyword">키워드 목차</a> <a href="Appendix.html">부록</a></div><div class="mobileview"><a id="navbutton">&#9776;</a></div></p>
    </header>



    <nav>
<p><a id="settingsopenbutton">&#9728;</a><a href="#top">&#9650;</a><a href="#bottom">&#9660;</a></p><div id="settingsmenubg"><div id="settingsmenu"><table><thead><tr><th colspan="2"><div class="align-right"> <span class="size-giant"><a id="settingsclosebutton">&#10006;</a></span></div></th></tr></thead><tbody><tr><td><div class="align-right">Theme:</div></td><td><div class="align-left"><a id="changethemebutton">Set Light Theme</a></div></td></tr><tr><td><div class="align-right">Horizontal Padding:</div></td><td><div class="align-left"><a id="growhorizontalbutton">Grow</a> <a id="shrinkhorizontalbutton">Shrink</a></div></td></tr><tr><td><div class="align-right">Font Size:</div></td><td><div class="align-left"><a id="growfontbutton">Grow</a> <a id="shrinkfontbutton">Shrink</a></div></td></tr><tr><td><div class="align-right">Settings:</div></td><td><div class="align-left"><a id="savesettingsbutton">Save All</a> <a id="discardsettingsbutton">Discard All</a></div></td></tr></tbody></table></div></div>
    </nav>


    <article class="markdown">
        <a id="top"></a>
<table><thead onclick="collapse_table('0')" id="table-collapse-toggle-0" class="collapsible collapsed"><tr><th>목차</th></tr></thead><tbody id="collapsible-table-0" class="invisible"><tr><td><div class="toc"><ol type="1"><li><a href="#proofs-by-induction">Proofs by Induction</a><ol type="1"><li><a href="#examples">Examples</a><ol type="1"><li><a href="#mul_0_r">mul_0_r</a></li><li><a href="#plus_n_sm">plus_n_Sm</a></li><li><a href="#add_comm">add_comm</a></li><li><a href="#add_assoc">add_assoc</a></li><li><a href="#eqb_refl">eqb_refl</a></li></ol></li></ol></li></ol></div></td></tr></tbody></table><h1 id="proofs-by-induction">Proofs by Induction</h1><pre class="fenced-code-block line-num-width-0"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Theorem</span> <span class="color-aqua">add_0_r_firsttry</span> <span class="color-white">:</span> <span class="color-violet">forall</span> <span class="color-red">n</span><span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-red">n</span> <span class="color-white">+</span> <span class="color-gold">0</span> <span class="color-white">=</span> <span class="color-white">n</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(0)" class="copy-fenced-code">Copy</button></pre><p>위와 같은 theorem을 증명하려면 어떻게 해야할까요? 덧셈의 왼쪽 인자가 상수가 아니라서 <code class="inline-code-span">simpl</code>이나 <code class="inline-code-span">reflexivity</code>등의 tactic이 통하지 않습니다. <code class="inline-code-span">destruct</code>를 이용하면 <code class="inline-code-span">n</code>을 <code class="inline-code-span">S n&apos;</code>으로 바꿀 수 있지만 여전히 부족합니다.</p><p>이럴 때 필요한 것이 귀납법입니다. 고등학교 때 수학시간에 수학적 귀납법을 배운 기억이 나시나요? 바로 그 귀납법입니다.</p><p><a id="keywordinduction"></a></p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Theorem</span> <span class="color-aqua">add_0_r</span> <span class="color-white">:</span> <span class="color-violet">forall</span> <span class="color-red">n</span><span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span> <span class="color-red">n</span> <span class="color-white">+</span> <span class="color-gold">0</span> <span class="color-white">=</span> <span class="color-red">n</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">n</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">induction</span> <span class="color-red">n</span> <span class="color-violet">as</span> <span class="color-white">[</span> <span class="color-white">|</span> <span class="color-red">n&apos;</span> <span class="color-red">IHn&apos;</span><span class="color-white">]</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = 0 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = S n&apos; </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">    <span class="color-emerald">simpl</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">IHn&apos;</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">  <span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(1)" class="copy-fenced-code">Copy</button></pre><p>귀납법에는 <code class="inline-code-span">induction</code> 키워드를 사용합니다. <code class="inline-code-span">induction</code>은 <code class="inline-code-span">destruct</code>와 비슷하게, 상황을 <code class="inline-code-span">n = 0</code>과 <code class="inline-code-span">n = S n&apos;</code>으로 나눕니다. 하지만 귀납법을 쓰기 위해서는 한가지가 더 필요합니다. <code class="inline-code-span">n = S n&apos;</code>와 <code class="inline-code-span">n&apos; + 0 = n&apos;</code>이 둘 다 있어야지만 귀납법이 사용가능한데요, 대괄호 안의 <code class="inline-code-span">IHn&apos;</code><span id="footnote-ref-0" class="footnote-ref"><a href="#footnote-cite-0">[0]</a></span>이 바로 <code class="inline-code-span">n&apos; + 0 = n&apos;</code>입니다.</p><p>즉, 첫번째 bullet에서는 <code class="inline-code-span">n = 0</code>일 때 <code class="inline-code-span">n + 0 = n</code>을 증명하고, 두번째 bullet에서는 <code class="inline-code-span">n = S n&apos;</code>이고 <code class="inline-code-span">n&apos; + 0 = n&apos;</code>일 때 <code class="inline-code-span">n + 0 = n</code>을 증명합니다.</p><p>두번째 bullet을 좀 더 자세히 들여다보면 <code class="inline-code-span">simpl</code>을 이용해서 <code class="inline-code-span">S n&apos; + 0 = S n&apos;</code>을 <code class="inline-code-span">S(n&apos; + 0) = S n&apos;</code>으로 바꾸고, <code class="inline-code-span">rewrite</code>를 이용해서 <code class="inline-code-span">n&apos; + 0</code>을 <code class="inline-code-span">n&apos;</code>으로 바꿉니다. 그럼 남은 식은 <code class="inline-code-span">S n&apos; = S n&apos;</code>이 되죠? 증명이 끝났습니다.</p><h2 id="examples">Examples</h2><p>귀납법은 아주 중요합니다. 귀납법을 좀 더 잘 이해하기 위해서 예시들을 추가했습니다. 몇몇 예시는 책의 풀이이고 나머지는 제가 푼 것들입니다. Coq가 어떻게 동작하는지 잘 이해하기 위해서는 아래의 예시들을 CoqIDE 혹은 다른 Coq 구현체에 넣어서 직접 실행해보시는 걸 추천드립니다. 각 tactic을 실행할 때마다 goal과 context를 확인함으로써 Coq의 작동원리를 더 자세하게 알 수 있습니다.</p><h3 id="mul_0_r">mul_0_r</h3><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Theorem</span> <span class="color-aqua">mul_0_r</span> <span class="color-white">:</span> <span class="color-violet">forall</span> <span class="color-red">n</span><span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-red">n</span> <span class="color-white">*</span> <span class="color-gold">0</span> <span class="color-white">=</span> <span class="color-gold">0</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">n</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-emerald">induction</span> <span class="color-red">n</span> <span class="color-violet">as</span> <span class="color-white">[</span> <span class="color-white">|</span> <span class="color-red">n&apos;</span> <span class="color-red">IHn&apos;</span><span class="color-white">]</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = 0 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = S n&apos; </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">    <span class="color-emerald">simpl</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">IHn&apos;</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">  <span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(2)" class="copy-fenced-code">Copy</button></pre><h3 id="plus_n_sm">plus_n_Sm</h3><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Theorem</span> <span class="color-aqua">plus_n_Sm</span> <span class="color-white">:</span> <span class="color-violet">forall</span> <span class="color-red">n</span> <span class="color-red">m</span> <span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-white">S</span> <span class="color-white">(</span><span class="color-red">n</span> <span class="color-white">+</span> <span class="color-red">m</span><span class="color-white">)</span> <span class="color-white">=</span> <span class="color-red">n</span> <span class="color-white">+</span> <span class="color-white">(</span><span class="color-white">S</span> <span class="color-red">m</span><span class="color-white">)</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">n</span> <span class="color-red">m</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-emerald">induction</span> <span class="color-red">n</span> <span class="color-violet">as</span> <span class="color-white">[</span> <span class="color-white">|</span> <span class="color-red">n&apos;</span> <span class="color-red">IHn&apos;</span><span class="color-white">]</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = 0 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">add_0</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">add_0</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = S n&apos; </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">    <span class="color-emerald">simpl</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-red">IHn&apos;</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code">  <span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(3)" class="copy-fenced-code">Copy</button></pre><p>참고로 <code class="inline-code-span">add_0</code>은 <code class="inline-code-span">0 + n = n</code>입니다.</p><p>6번 줄에서 <code class="inline-code-span">S (0 + m) = 0 + S m</code>이 나오는데, 거기서 <code class="inline-code-span">rewrite -&gt; add_0</code>를 2번 하면 <code class="inline-code-span">S m = S m</code>이 됩니다. 11번 줄에서 <code class="inline-code-span">simpl</code>을 하면 <code class="inline-code-span">S (S (n&apos; + m)) = S (n&apos; + S m)</code>이 되는데, <code class="inline-code-span">IHn&apos;: S (n&apos; + m) = n&apos; + S m</code>이므로, <code class="inline-code-span">rewrite IHn&apos;</code>을 하면 식이 <code class="inline-code-span">S (n&apos; + S m) = S (n&apos; + S m)</code>로 깔끔해집니다.</p><h3 id="add_comm">add_comm</h3><p><a id="theoremaddcomm"></a></p><p>이제 교환법칙을 증명해보겠습니다.</p><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Theorem</span> <span class="color-aqua">add_comm</span> <span class="color-white">:</span> <span class="color-violet">forall</span> <span class="color-red">n</span> <span class="color-red">m</span> <span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-red">n</span> <span class="color-white">+</span> <span class="color-red">m</span> <span class="color-white">=</span> <span class="color-red">m</span> <span class="color-white">+</span> <span class="color-red">n</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">n</span> <span class="color-red">m</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-emerald">induction</span> <span class="color-red">n</span> <span class="color-violet">as</span> <span class="color-white">[</span> <span class="color-white">|</span><span class="color-red">n&apos;</span> <span class="color-red">IHn&apos;</span><span class="color-white">]</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = 0 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">add_0</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-white">-</span><span class="color-white">&gt;</span> <span class="color-red">add_0_r</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = S n&apos; </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">    <span class="color-emerald">simpl</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-red">IHn&apos;</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-red">plus_n_Sm</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">15</span><span class="code-fence-code">  <span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(4)" class="copy-fenced-code">Copy</button></pre><p>참고로 <code class="inline-code-span">add_0_r</code>은 <code class="inline-code-span">n + 0 = n</code>입니다.</p><p>6번 줄의 <code class="inline-code-span">0 + m = m + 0</code>은 <code class="inline-code-span">add_0</code>와 <code class="inline-code-span">add_0_r</code>만으로 깔끔하게 <code class="inline-code-span">m = m</code> 꼴로 만들 수 있습니다. 11번 줄에서 <code class="inline-code-span">simpl</code>을 하면 <code class="inline-code-span">S (n&apos; + m) = m + S n&apos;</code>이 되는데, <code class="inline-code-span">IHn&apos;: n&apos; + m = m + n&apos;</code>이므로, <code class="inline-code-span">rewrite IHn&apos;</code>으로 <code class="inline-code-span">n&apos;</code>과 <code class="inline-code-span">m</code>의 순서를 바꾸고 아까 증명한 <code class="inline-code-span">plus_n_Sm</code>을 이용하면 깔끔하게 증명할 수 있습니다.</p><h3 id="add_assoc">add_assoc</h3><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Theorem</span> <span class="color-aqua">add_assoc</span> <span class="color-white">:</span> <span class="color-violet">forall</span> <span class="color-red">n</span> <span class="color-red">m</span> <span class="color-red">p</span> <span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-red">n</span> <span class="color-white">+</span> <span class="color-white">(</span><span class="color-red">m</span> <span class="color-white">+</span> <span class="color-red">p</span><span class="color-white">)</span> <span class="color-white">=</span> <span class="color-white">(</span><span class="color-red">n</span> <span class="color-white">+</span> <span class="color-red">m</span><span class="color-white">)</span> <span class="color-white">+</span> <span class="color-red">p</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">n</span> <span class="color-red">m</span> <span class="color-red">p</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-emerald">rewrite</span> <span class="color-red">add_comm</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-emerald">induction</span> <span class="color-red">n</span> <span class="color-violet">as</span> <span class="color-white">[</span> <span class="color-white">|</span><span class="color-red">n&apos;</span> <span class="color-red">IHn&apos;</span><span class="color-white">]</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = 0 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-red">add_0</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-red">add_0_r</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = S n&apos; </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-white">&lt;</span><span class="color-white">-</span> <span class="color-red">plus_n_Sm</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-red">IHn&apos;</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">14</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">15</span><span class="code-fence-code"><span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(5)" class="copy-fenced-code">Copy</button></pre><p>아까 증명한 <code class="inline-code-span">add_comm</code>을 이용하면 식이 <code class="inline-code-span">m + p + n = n + m + p</code>의 형태로 바뀝니다. <code class="inline-code-span">m + p</code>를 하나의 항으로 생각하면 <code class="inline-code-span">add_comm</code>과 동일한 형태의 식으로 생각할 수 있습니다. 그래서 아까와 비슷하게 증명이 가능합니다.</p><h3 id="eqb_refl">eqb_refl</h3><pre class="fenced-code-block line-num-width-1"><code><span class="code-fence-row"><span class="code-fence-index">1</span><span class="code-fence-code"><span class="color-violet">Theorem</span> <span class="color-aqua">eqb_refl</span> <span class="color-white">:</span> <span class="color-violet">forall</span> <span class="color-red">n</span> <span class="color-white">:</span> <span class="color-emerald">nat</span><span class="color-white">,</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">2</span><span class="code-fence-code">  <span class="color-white">(</span><span class="color-red">n</span> <span class="color-white">=</span><span class="color-white">?</span> <span class="color-red">n</span><span class="color-white">)</span> <span class="color-white">=</span> <span class="color-white">true</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">3</span><span class="code-fence-code"><span class="color-violet">Proof</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">4</span><span class="code-fence-code">  <span class="color-emerald">intros</span> <span class="color-red">n</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">5</span><span class="code-fence-code">  <span class="color-emerald">induction</span> <span class="color-red">n</span> <span class="color-violet">as</span> <span class="color-white">[</span> <span class="color-white">|</span><span class="color-red">n&apos;</span> <span class="color-red">IHn&apos;</span><span class="color-white">]</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">6</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = 0 </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">7</span><span class="code-fence-code">    <span class="color-emerald">simpl</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">8</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">9</span><span class="code-fence-code">  <span class="color-aqua">-</span> <span class="color-gray">(*</span><span class="color-gray"> n = S n&apos; </span><span class="color-gray">*)</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">10</span><span class="code-fence-code">    <span class="color-emerald">rewrite</span> <span class="color-white">&lt;</span><span class="color-white">-</span> <span class="color-red">IHn&apos;</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">11</span><span class="code-fence-code">    <span class="color-emerald">simpl</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">12</span><span class="code-fence-code">    <span class="color-emerald">reflexivity</span><span class="color-white">.</span></span></span>
<span class="code-fence-row"><span class="code-fence-index">13</span><span class="code-fence-code">  <span class="color-violet">Qed</span><span class="color-white">.</span></span></span>
</code><button onclick="copy_code_to_clipboard(6)" class="copy-fenced-code">Copy</button></pre><p>위의 증명에서 <code class="inline-code-span">simpl</code>을 전부 제거해도 증명이 됩니다. <code class="inline-code-span">simpl</code>하고 <code class="inline-code-span">reflexivity</code>가 정확히 어떻게 동작하는지 잘 모르겠네요.</p><hr/><div class="align-center"><p><a href="index.html">메인으로 돌아가기</a></p></div><div class="align-left"><p>&lt;&lt; <a href="Chap1-3.html">Chap1-3. Proofs</a></p></div><div class="align-right"><p><a href="Chap2-2.html">Chap2-2. Proofs within proofs</a> &gt;&gt;</p></div><hr class="footnote-hr"/><div class="mdxt-footnote-cites"><p><div class="footnote-cite"><a id="footnote-cite-0"></a><a href="#footnote-ref-0"> [0]</a> 책에서는 <em>Induction Hypothesis for n&apos;</em>의 줄임말로 IHn&apos;이라고 명명했습니다.</div></p></div><script>/*<![CDATA[*/
const fenced_code_block_contents = ["Theorem add_0_r_firsttry : forall n: nat,\n  n + 0 = n.", "Theorem add_0_r : forall n: nat, n + 0 = n.\nProof.\n  intros n.\n  induction n as [ | n' IHn'].\n  - (* n = 0 *)\n    reflexivity.\n  - (* n = S n' *)\n    simpl.\n    rewrite -> IHn'.\n    reflexivity.\n  Qed.", "Theorem mul_0_r : forall n: nat,\n  n * 0 = 0.\nProof.\n  intros n.\n  induction n as [ | n' IHn'].\n  - (* n = 0 *)\n    reflexivity.\n  - (* n = S n' *)\n    simpl.\n    rewrite -> IHn'.\n    reflexivity.\n  Qed.", "Theorem plus_n_Sm : forall n m : nat,\n  S (n + m) = n + (S m).\nProof.\n  intros n m.\n  induction n as [ | n' IHn'].\n  - (* n = 0 *)\n    rewrite -> add_0.\n    rewrite -> add_0.\n    reflexivity.\n  - (* n = S n' *)\n    simpl.\n    rewrite IHn'.\n    reflexivity.\n  Qed.", "Theorem add_comm : forall n m : nat,\n  n + m = m + n.\nProof.\n  intros n m.\n  induction n as [ |n' IHn'].\n  - (* n = 0 *)\n    rewrite -> add_0.\n    rewrite -> add_0_r.\n    reflexivity.\n  - (* n = S n' *)\n    simpl.\n    rewrite IHn'.\n    rewrite plus_n_Sm.\n    reflexivity.\n  Qed.", "Theorem add_assoc : forall n m p : nat,\n  n + (m + p) = (n + m) + p.\nProof.\n  intros n m p.\n  rewrite add_comm.\n  induction n as [ |n' IHn'].\n  - (* n = 0 *)\n    rewrite add_0.\n    rewrite add_0_r.\n    reflexivity.\n  - (* n = S n' *)\n    rewrite <- plus_n_Sm.\n    rewrite IHn'.\n    reflexivity.\nQed.", "Theorem eqb_refl : forall n : nat,\n  (n =? n) = true.\nProof.\n  intros n.\n  induction n as [ |n' IHn'].\n  - (* n = 0 *)\n    simpl.\n    reflexivity.\n  - (* n = S n' *)\n    rewrite <- IHn'.\n    simpl.\n    reflexivity.\n  Qed."];

function copy_code_to_clipboard(index) {
    navigator.clipboard.writeText(fenced_code_block_contents[index]);
}/*]]>*/</script>
        <a id="bottom"></a>
    </article>




    <footer class="markdown">
<p><br/></p><p><br/></p><hr/><div class="align-center"><p>2021 ~ 2023 &copy; Baehyunsol</p></div>
    </footer>


    <script src="colors.js"></script>

    
    <script src="nav.js"></script>
    
    
    
    <script src="header.js"></script>
    
<script src="collapsible_tables.js"></script></body>

</html>